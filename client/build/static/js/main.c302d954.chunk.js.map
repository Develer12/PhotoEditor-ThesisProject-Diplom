{"version":3,"sources":["context/AuthContext.jsx","hooks/Auth.js","pages/Main.jsx","components/Basic/PopupModal.jsx","hooks/Ajax.js","hooks/IcoImgStorage.js","hooks/OrigImgStorage.js","hooks/EditedImgStorage.js","components/Editor/Menu/File.jsx","components/Editor/Menu/Edit.jsx","components/Editor/Burg.jsx","components/Editor/Menu/index.jsx","components/Editor/Package/MinImg.jsx","components/Editor/Package/index.jsx","components/Editor/Window/Settings/RangeSlider.jsx","components/Editor/Window/EditSettings.jsx","context/OrigImgContext.jsx","components/Editor/Window/EditImg.jsx","components/Editor/Window/index.jsx","pages/Editor.jsx","pages/Account/Admin.jsx","pages/Account/Client.jsx","pages/Account/index.jsx","pages/Auth/Login.jsx","pages/Auth/Registration.jsx","App.jsx","Routes.jsx","index.js"],"names":["noop","AuthContext","createContext","token","userId","login","logout","isAuthenticated","isAdmin","storageName","Main","useContext","selecStyle","imgUrl","backgroundPosition","backgroundImage","id","href","className","src","alt","style","contentStyle","maxWidth","width","PopupModal","props","modal","nested","onClose","onClick","trigger","name","close","header","children","Ajax","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","contentType","body","headers","JSON","stringify","Authorization","fetch","response","data","json","ok","Error","message","clearError","IcoImgStorage","icoVal","setIcoVal","indx","icoChoosen","setIcoChoosen","setIco","img","localStorage","getItem","parse","forEach","element","push","pic","setItem","useEffect","getIco","getIcoAll","deleteIco","splice","clearIco","removeItem","OrigImgStorage","origVal","setOrigVal","origChoosen","setOrigChoosen","setOrig","getOrig","getOrigAll","deleteOrig","clearOrig","EditedImgStorage","editedVal","setEditedVal","PresetList","setPresetList","editedChoosen","setEditedChoosen","setEdited","settings","console","log","updateEdited","addPreset","getEdited","getEditedAll","deleteEdited","clearEdited","File","dropDown","setDropDown","upload","useBetween","closeDropDown","uploadFile","form","preventDefault","formData","FormData","target","length","ico","orig","bind","this","onSubmit","type","accept","multiple","required","picIndx","linkSource","mime","downloadLink","document","createElement","appendChild","download","click","Edit","uploadPreset","get","append","placeholder","value","Demo","Menu","BurgerMenu","slide","getFilters","usePreset","event","delPreset","customBurgerIcon","pageWrapId","outerContainerId","right","isOpen","map","elem","index","presetName","key","_id","MinImg","choosen","picRef","useRef","ref","Package","object","RangeSlider","param","start","step","undefined","range","setRange","onDoubleClick","htmlFor","onChange","e","min","max","EditSettings","editFile","Object","fromEntries","flag","hasOwnProperty","Number","RangeSliderList","Basic","setting","keys","RGB","EditImg","imgRef","current","size","zoomIn","zoomOut","resetTransform","Fragment","Window","imgEdited","imgOrig","Editor","Admin","auth","clientInfo","setClientInfo","subsInfo","setSubsInfo","sNameRef","fNameRef","getInfo","subDate","substr","fName","sName","getSubInfo","updateSubInfo","isSub","updateInfo","DeleteAcc","window","confirm","readOnly","defaultChecked","email","toString","Client","Account","Login","loginClick","is","location","Registration","regClick","password","password2","alert","App","setToken","ready","setReady","setUserId","setIsAdmin","jwtToken","admin","Auth","routes","exact","path","to","Routes","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c302d954.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n  token: null,\r\n  userId: null,\r\n  login: noop,\r\n  logout: noop,\r\n  isAuthenticated: false,\r\n  isAdmin: false\r\n})\r\n","import { useState, useCallback, useEffect } from 'react';\r\n\r\nconst storageName = 'DiplomAppUserToken';\r\n\r\nexport const Auth = () => {\r\n  const [ token, setToken ] = useState(null);\r\n  const [ ready, setReady ] = useState(false);\r\n  const [ userId, setUserId ] = useState(null);\r\n  const [ isAdmin, setIsAdmin ] = useState(false);\r\n\r\n  const login = useCallback((jwtToken, id, admin = false) => {\r\n    setToken(jwtToken);\r\n    setUserId(id);\r\n    setIsAdmin(admin);\r\n\r\n    localStorage.setItem(storageName, JSON.stringify({\r\n      userId: id, token: jwtToken, isAdmin: admin\r\n    }));\r\n  }, []);\r\n\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setUserId(null);\r\n    setIsAdmin(false);\r\n\r\n    window.location.href = '/login';\r\n    \r\n    localStorage.removeItem(storageName);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(localStorage.getItem(storageName));\r\n\r\n    if (data && data.token) {\r\n      login(data.token, data.userId, data.isAdmin);\r\n    }\r\n    setReady(true);\r\n  }, [login]);\r\n\r\n\r\n  return { login, logout, token, userId, isAdmin, ready };\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { AuthContext } from './../context/AuthContext';\r\n\r\nimport './Main.scss';\r\n\r\n\r\nfunction Main() {\r\n\tconst auth = useContext(AuthContext);\r\n\tconst isAuthenticated = auth.isAuthenticated;\r\n\r\n  const selecStyle = (imgUrl) => {\r\n\r\n    return {\r\n      backgroundPosition: 'center -12px',\r\n      backgroundImage: 'url(' + imgUrl + ')',\r\n    };\r\n  };\r\n\r\n  return (\r\n\t\t<div id='page-wrapper'>\r\n\t\t\t\t<header id='header'>\r\n\t\t\t\t\t<h1 id='logo'><a href='/'>Editor</a></h1>\r\n\t\t\t\t\t<nav id='nav'>\r\n\t\t\t\t\t\t<ul>\r\n              <li>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t!isAuthenticated && \r\n\t\t\t\t\t\t\t\t\t<a href='/login' className='button primary'>Sign Up</a>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tisAuthenticated && \r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<li><a href='/editor'>Try Editor</a></li>\r\n\t\t\t\t\t\t\t\t\t<li><a href='/account' className='button primary'>Account</a></li>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</nav>\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t<section id='banner'>\r\n\t\t\t\t\t<div className='content'>\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<h2>The best Editor</h2>\r\n\t\t\t\t\t\t\t<p>Edit image with help of Editor.<br />\r\n\t\t\t\t\t\t\tGet best results.</p>\r\n\t\t\t\t\t\t\t<ul className='actions'>\r\n\t\t\t\t\t\t\t\t<li><a href='/editor' className='button'>Try Editor</a></li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t<span className='image'><img src='logo512.png' alt='' /></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a href='#one' className='goto-next scrolly'>Next</a>\r\n\t\t\t\t</section>\r\n\r\n        <section id='one' className='spotlight style1 bottom' style={ selecStyle('mainpic1.jpg') } >\r\n\t\t\t\t\t<div className='content'>\r\n\t\t\t\t\t\t<div className='container'>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-4 col-12-medium'>\r\n\t\t\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t\t\t\t<h2>Free online photo editor</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p>Just use this app to get edit photo</p>\r\n\t\t\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-4 col-12-medium'>\r\n\t\t\t\t\t\t\t\t\t<p>Editor couldn’t be easier to use. No complicated tools or confusing UI – just simple, \r\n\t\t\t\t\t\t\t\t\tstraightforward tools that transform your photo. Simply drag your photo into the editor \r\n\t\t\t\t\t\t\t\t\tto get started.</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-4 col-12-medium'>\r\n\t\t\t\t\t\t\t\t\t<p>Enhance your photo in one click with our range of filters. Our filters are customizable, \r\n\t\t\t\t\t\t\t\t\tso you can change the brightness, contrast and saturation to get the look you want. And forget \r\n\t\t\t\t\t\t\t\t\tabout bad lighting and other common problems — Editor helps you fix your photo, fast.</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a href='#two' className='goto-next scrolly'>Next</a>\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section id='two' className='spotlight style2 right' style={ selecStyle('pic04.jpg') } >\r\n\t\t\t\t\t<div className='content'>\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<h2>Be be be</h2>\r\n\t\t\t\t\t\t\t<p>Editor is a small but powerful photo editing application. \r\n\t\t\t\t\t\t\tIf you have some knowledge of photography, you can do a lot with Photo Editor. \r\n\t\t\t\t\t\t\tNow use Photo Editor to edit photos on your mobile phone just like you would on a PC.</p>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t<p>I just wanna pass course project.</p>\r\n\t\t\t\t\t\t<ul className='actions'>\r\n\t\t\t\t\t\t\t<li><a href='#' className='button'>Learn Again</a></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a href='#four' className='goto-next scrolly'>Next</a>\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section id='four' className='wrapper style1 special fade-up'>\r\n\t\t\t\t\t<div className='container'>\r\n\t\t\t\t\t\t<header className='major'>\r\n\t\t\t\t\t\t\t<h2>Features</h2>\r\n\t\t\t\t\t\t\t<p>Best experience in photo editing</p>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t<div className='box alt'>\r\n\t\t\t\t\t\t\t<div className='row gtr-uniform'>\r\n\t\t\t\t\t\t\t\t<section className='col-4 col-6-medium col-12-xsmall'>\r\n\t\t\t\t\t\t\t\t\t<span className='icon solid alt major fa-chart-area'></span>\r\n\t\t\t\t\t\t\t\t\t<h3>Greate quality</h3>\r\n\t\t\t\t\t\t\t\t\t<p>You can get your images with no loss.</p>\r\n\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t<section className='col-4 col-6-medium col-12-xsmall'>\r\n\t\t\t\t\t\t\t\t\t<span className='icon solid alt major fa-comment'></span>\r\n\t\t\t\t\t\t\t\t\t<h3>Best technologies</h3>\r\n\t\t\t\t\t\t\t\t\t<p>Modern Node.js server and React.js app.</p>\r\n\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t<section className='col-4 col-6-medium col-12-xsmall'>\r\n\t\t\t\t\t\t\t\t\t<span className='icon solid alt major fa-flask'></span>\r\n\t\t\t\t\t\t\t\t\t<h3>Best app</h3>\r\n\t\t\t\t\t\t\t\t\t<p>You cannot find best diplom than this app.</p>\r\n\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t{/*\r\n\t\t\t\t\t\t\t\t<section className='col-4 col-6-medium col-12-xsmall'>\r\n\t\t\t\t\t\t\t\t\t<span className='icon solid alt major fa-paper-plane'></span>\r\n\t\t\t\t\t\t\t\t\t<h3>Non semper interdum</h3>\r\n\t\t\t\t\t\t\t\t\t<p>Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.</p>\r\n\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t<section className='col-4 col-6-medium col-12-xsmall'>\r\n\t\t\t\t\t\t\t\t\t<span className='icon solid alt major fa-file'></span>\r\n\t\t\t\t\t\t\t\t\t<h3>Odio laoreet accumsan</h3>\r\n\t\t\t\t\t\t\t\t\t<p>Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.</p>\r\n\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t<section className='col-4 col-6-medium col-12-xsmall'>\r\n\t\t\t\t\t\t\t\t\t<span className='icon solid alt major fa-lock'></span>\r\n\t\t\t\t\t\t\t\t\t<h3>Massa arcu accumsan</h3>\r\n\t\t\t\t\t\t\t\t\t<p>Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.</p>\r\n\t\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t\t*/}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<footer className='major'>\r\n\t\t\t\t\t\t\t<ul className='actions special'>\r\n\t\t\t\t\t\t\t\t<li><a href='/editor' className='button'>Try Editor</a></li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</footer>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t\t{/*\r\n\t\t\t\t<section id='five' className='wrapper style2 special fade' >\r\n\t\t\t\t\t<div className='container'>\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<h2>Magna faucibus lorem diam</h2>\r\n\t\t\t\t\t\t\t<p>Ante metus praesent faucibus ante integer id accumsan eleifend</p>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t<form method='post' action='#' className='cta'>\r\n\t\t\t\t\t\t\t<div className='row gtr-uniform gtr-50'>\r\n\t\t\t\t\t\t\t\t<div className='col-8 col-12-xsmall'><input type='email' name='email' id='email' placeholder='Your Email Address' /></div>\r\n\t\t\t\t\t\t\t\t<div className='col-4 col-12-xsmall'><input type='submit' value='Get Started' className='fit primary' /></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\t\t\t\t*/}\r\n\r\n\t\t\t\t<footer id='footer'>\r\n\t\t\t\t\t<ul className='icons'>\r\n\t\t\t\t\t\t<li><a href='https://www.linkedin.com/in/arseni-matsiukh-1895ab1b3/' className='icon brands alt fa-linkedin-in'><span className='label'>LinkedIn</span></a></li>\r\n\t\t\t\t\t\t<li><a href='https://www.instagram.com/develer12/' className='icon brands alt fa-instagram'><span className='label'>Instagram</span></a></li>\r\n\t\t\t\t\t\t<li><a href='https://github.com/Develer12' className='icon brands alt fa-github'><span className='label'>GitHub</span></a></li>\r\n\t\t\t\t\t\t<li><a href='mailto:armagedondeveler@gmail.com' className='icon solid alt fa-envelope'><span className='label'>Email</span></a></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<ul className='copyright'>\r\n\t\t\t\t\t\t<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href='https://github.com/Develer12'>Develer12</a></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</footer>\r\n\t\t</div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport Popup from 'reactjs-popup';\r\nimport './PopupModal.scss';\r\n\r\nconst contentStyle = {\r\n  maxWidth: '600px',\r\n  width: '90%',\r\n};\r\n\r\nfunction PopupModal(props) {\r\n\r\n  return (\r\n    <Popup \r\n      modal \r\n      nested \r\n      onClose = { () => { props.onClick() } }\r\n      contentStyle = { contentStyle }\r\n      trigger = { <div className='menu-item'>{ props.name }</div> }\r\n    >\r\n      { close => (\r\n          <div className='modal'>\r\n            <a className='close' onClick={ close }>&times;</a>\r\n            <div className='header'> { props.header } </div>\r\n            { props.children }\r\n          </div>\r\n      )}\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default PopupModal;\r\n","import { useState, useCallback, useContext } from 'react';\r\nimport { AuthContext } from './../context/AuthContext';\r\n\r\nexport const Ajax = () => {\r\n  const [ loading, setLoading ] = useState(false);\r\n  const [ error, setError ] = useState(null);\r\n  const { token } = useContext(AuthContext);\r\n\r\n  const request = useCallback(async (\r\n    url, \r\n    method = 'GET', \r\n    contentType = 'application/json',\r\n    body = null, \r\n    headers = {}\r\n  ) => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      if(body) {\r\n        if(contentType !== 'multipart/form-data') {\r\n          body = JSON.stringify(body);\r\n          headers['Content-Type'] = contentType;\r\n        }\r\n      }\r\n\r\n      headers.Authorization = !!token? `user ${token}` : null;\r\n      \r\n      const response = await fetch(url, { method, body, headers });\r\n      const data = response.json();\r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Something wrong');\r\n      }\r\n      //alert('done')\r\n\r\n\r\n      setLoading(false);\r\n\r\n      return data;\r\n    } \r\n    catch (e) {\r\n      setLoading(false);\r\n      setError(e.message);\r\n      throw e;\r\n    }\r\n  }, []);\r\n\r\n  const clearError = useCallback(() => setError(null), []);\r\n\r\n  return { loading, request, error, clearError };\r\n}\r\n","import { useState, useCallback, useEffect } from 'react';\r\n\r\nconst storageName = 'IcoImgStorage';\r\n\r\nexport const IcoImgStorage = () => {\r\n  const [icoVal, setIcoVal] = useState([]);\r\n  const [icoChoosen, setIcoChoosen] = useState({ indx: null, name: null });\r\n\r\n  const setIco = useCallback((img) => {\r\n    let data = localStorage.getItem(storageName);\r\n    data = !!!data? [] : JSON.parse(data);\r\n\r\n    if(img){\r\n      img.forEach(element => {\r\n        data.push({ pic: element });\r\n      });\r\n      localStorage.setItem(storageName, JSON.stringify(data));\r\n    }\r\n    setIcoVal(data);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    \r\n  }, [icoVal, setIco]);\r\n\r\n  const getIco = (indx) => {\r\n    let data = JSON.parse(localStorage.getItem(storageName));\r\n    if(data){\r\n      data = data[indx]? data[indx] : null;\r\n      return data;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const getIcoAll = () => {\r\n    let data = JSON.parse(localStorage.getItem(storageName));\r\n    return !!!data? [] : data;\r\n  };\r\n\r\n  const clearIco = () => {\r\n    setIcoVal([]);\r\n    localStorage.removeItem(storageName);\r\n  };\r\n\r\n  const deleteIco = (indx) => {\r\n    let data = JSON.parse(localStorage.getItem(storageName));\r\n    if(data){\r\n      data.splice(indx, 1);\r\n      localStorage.setItem(storageName, JSON.stringify(data));\r\n      setIcoVal(data);\r\n    }\r\n  };\r\n\r\n\r\n  return { \r\n    icoChoosen, setIcoChoosen, \r\n    icoVal, setIcoVal,\r\n    setIco, \r\n    getIco, getIcoAll, \r\n    deleteIco, clearIco\r\n  };\r\n}\r\n","import { useState, useCallback, useEffect } from 'react';\r\n\r\nconst storageName = 'OrigImgStorage';\r\n\r\nexport const OrigImgStorage = () => {\r\n  const [origVal, setOrigVal] = useState([]);\r\n  const [origChoosen, setOrigChoosen] = useState({ indx: null, name: null });\r\n\r\n  const setOrig = useCallback((img) => {\r\n    let data = localStorage.getItem(storageName);\r\n    data = !!!data? [] : JSON.parse(data);\r\n\r\n    if(img){\r\n      img.forEach(element => {\r\n        data.push({ pic: element });\r\n      });\r\n      localStorage.setItem(storageName, JSON.stringify(data));\r\n    }\r\n    setOrigVal(data);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    \r\n  }, [origVal, setOrig]);\r\n\r\n  const getOrig = (indx) => {\r\n    let data = JSON.parse(localStorage.getItem(storageName));\r\n    if(data){\r\n      data = data[indx]? data[indx] : null;\r\n      return data;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const getOrigAll = () => {\r\n    let data = JSON.parse(localStorage.getItem(storageName));\r\n    return !!!data? [] : data;\r\n  };\r\n\r\n  const deleteOrig = (indx) => {\r\n    let data = JSON.parse(localStorage.getItem(storageName));\r\n    if(data){\r\n      data.splice(indx, 1);\r\n      localStorage.setItem(storageName, JSON.stringify(data));\r\n      setOrigVal(data);\r\n    }\r\n  };\r\n\r\n  const clearOrig = () => {\r\n    setOrigVal([]);\r\n    localStorage.removeItem(storageName);\r\n  };\r\n\r\n\r\n  return { \r\n    origChoosen, setOrigChoosen, \r\n    origVal, setOrigVal, \r\n    setOrig, \r\n    getOrig, getOrigAll, \r\n    deleteOrig, clearOrig \r\n  };\r\n}\r\n","import { useState, useCallback, useEffect } from 'react';\r\n\r\nconst storageName = 'EditedImgStorage';\r\n\r\nexport const EditedImgStorage = () => {\r\n  const [editedVal, setEditedVal] = useState([]);\r\n  const [PresetList, setPresetList] = useState([]);\r\n  const [editedChoosen, setEditedChoosen] = useState({ indx: null, name: null });\r\n\r\n  const setEdited = useCallback((img, settings) => {\r\n    let data = localStorage.getItem(storageName);\r\n    data = !!!data? [] : JSON.parse(data);\r\n\r\n    if(img){\r\n      img.forEach(element => {\r\n        data.push({ pic: element, settings });\r\n        console.log(data)\r\n      });\r\n      localStorage.setItem(storageName, JSON.stringify(data));\r\n      setEditedVal(data);\r\n    }\r\n  }, []);\r\n\r\n  const updateEdited = useCallback((pic, indx, settings = null) => {\r\n    let data = JSON.parse(localStorage.getItem(storageName));\r\n    if(pic && data[indx]){\r\n      settings = !!!settings? data[indx].settings : settings;\r\n      data[indx] = { pic, settings };\r\n      localStorage.setItem(storageName, JSON.stringify(data));\r\n      setEditedVal(data);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    \r\n  }, [editedVal, setEdited]);\r\n\r\n  const getEdited = (indx) => {\r\n    let data = JSON.parse(localStorage.getItem(storageName));\r\n    if(data){\r\n      data = data[indx]? data[indx] : null;\r\n      return data;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const getEditedAll = () => {\r\n    let data = JSON.parse(localStorage.getItem(storageName));\r\n    return !!!data? [] : data;\r\n  };\r\n\r\n  const deleteEdited = (indx) => {\r\n    let data = JSON.parse(localStorage.getItem(storageName));\r\n    if(data){\r\n      data.splice(indx, 1);\r\n      localStorage.setItem(storageName, JSON.stringify(data));\r\n      setEditedVal(data);\r\n    }\r\n  };\r\n\r\n  const clearEdited = () => {\r\n    setEditedVal([]);\r\n    localStorage.removeItem(storageName);\r\n  };\r\n\r\n  const addPreset = useCallback((name, settings) => {\r\n    if(!!settings){\r\n      PresetList.push({ name, settings });\r\n      setPresetList(PresetList);\r\n    }\r\n  }, []);\r\n\r\n\r\n  return { \r\n    editedChoosen, setEditedChoosen, \r\n    editedVal, setEditedVal, \r\n    PresetList, setPresetList,\r\n    setEdited, updateEdited, \r\n    getEdited, getEditedAll, \r\n    deleteEdited, clearEdited,\r\n    addPreset\r\n  };\r\n}\r\n","import React, { useState } from 'react';\r\nimport PopupModal from '../../Basic/PopupModal';\r\nimport { Ajax } from './../../../hooks/Ajax';\r\nimport { IcoImgStorage } from './../../../hooks/IcoImgStorage';\r\nimport { OrigImgStorage } from './../../../hooks/OrigImgStorage';\r\nimport { EditedImgStorage } from './../../../hooks/EditedImgStorage';\r\nimport { useBetween } from \"use-between\";\r\n\r\n\r\nfunction File(props) {\r\n  const [ dropDown, setDropDown ] = useState(false);\r\n  const [ upload, setUpload ] = useState(null);\r\n\r\n  const { icoVal, setIco, getIcoAll, clearIco, icoChoosen } = useBetween(IcoImgStorage);\r\n  const { clearOrig, setOrig } = useBetween(OrigImgStorage);\r\n  const { clearEdited, setEdited, getEdited } = useBetween(EditedImgStorage);\r\n  const { loading, request, error, clearError } = Ajax();\r\n\r\n\r\n  const closeDropDown = () => { \r\n    setDropDown(!dropDown);\r\n  };\r\n\r\n  const ClearAll = () => {\r\n    clearIco();\r\n    clearOrig();\r\n    clearEdited();\r\n  };\r\n\r\n  const uploadFile = async (form) => {\r\n    form.preventDefault();\r\n    try {\r\n      let formData = new FormData(form.target);\r\n\r\n        if(formData){          \r\n          if((getIcoAll().length + [...formData].length) > 15) {\r\n            throw new Error('Too much photos');\r\n          }\r\n\r\n          const data = await request('/api/editor/upload', 'POST', 'multipart/form-data', formData);\r\n          if(data) {\r\n            setIco(data.ico);\r\n            setOrig(data.orig);\r\n            setEdited(data.orig, {});\r\n          }\r\n        }\r\n        else{\r\n          throw new Error('Upload the photos');\r\n        }\r\n      } \r\n      catch (e) {\r\n        console.log(e.message)\r\n      }\r\n      finally{\r\n        closeDropDown();\r\n      }\r\n    return false;\r\n  }\r\n\r\n  const DownloadFile = () => {\r\n    let picIndx = icoChoosen.indx;\r\n    let pic = getEdited(picIndx);\r\n    console.log(pic)\r\n    if(!!pic) {\r\n      pic = pic.pic;\r\n      const linkSource = `data:${ pic.mime };base64,${ pic.img }`;\r\n      const downloadLink = document.createElement('a');\r\n      document.body.appendChild(downloadLink);\r\n      downloadLink.href = linkSource;\r\n      downloadLink.target = '_self';\r\n      downloadLink.download = pic.name;\r\n      downloadLink.click(); \r\n    }\r\n  }\r\n\r\n  return (\r\n    <li className='menu-item-li'>\r\n      <div className='menu-item' onClick={ closeDropDown }>File</div>\r\n      {\r\n        dropDown && \r\n\r\n        <div className = 'popup-menu'>\r\n          <PopupModal \r\n            name='Import...' \r\n            header='Import images' \r\n            onClick={ closeDropDown.bind(this) }\r\n          >\r\n            <div className='content'>\r\n              <div>\r\n                Upload image for input it to flow.\r\n              </div>\r\n              <div>\r\n                Max count images on the flow is 15.\r\n              </div>\r\n              <br/>\r\n              <div className='account-div'>\r\n                <form onSubmit={ uploadFile } className=\"spotlight style1 bottom cta\" >\r\n                  <input type='file' accept=\".jpeg, .jpg, .png, .gif\" name='files' className='col-8 col-12-xsmall' multiple required /><br/>\r\n                  <input type='submit' className='col-4 col-12-xsmall' />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </PopupModal>\r\n          <div className='menu-item' onClick={ ClearAll } >Clear</div>\r\n          <div className='menu-item' onClick={ DownloadFile } >Download</div>\r\n          <img src={ upload } />\r\n        </div>\r\n      }\r\n  </li>\r\n  );\r\n}\r\n\r\nexport default File;","import React, { useState } from 'react';\r\nimport PopupModal from '../../Basic/PopupModal';\r\nimport { Ajax } from './../../../hooks/Ajax';\r\nimport { IcoImgStorage } from './../../../hooks/IcoImgStorage';\r\nimport { OrigImgStorage } from './../../../hooks/OrigImgStorage';\r\nimport { EditedImgStorage } from './../../../hooks/EditedImgStorage';\r\nimport { useBetween } from \"use-between\";\r\n\r\n\r\nfunction Edit(props) {\r\n  const [ dropDown, setDropDown ] = useState(false);\r\n\r\n  const { icoChoosen } = useBetween(IcoImgStorage);\r\n  const { clearOrig, setOrig } = useBetween(OrigImgStorage);\r\n  const { getEdited, addPreset } = useBetween(EditedImgStorage);\r\n  const { loading, request, error, clearError } = Ajax();\r\n\r\n\r\n  const closeDropDown = () => { \r\n    setDropDown(!dropDown);\r\n  };\r\n\r\n  const uploadPreset = async (form) => {\r\n    form.preventDefault();\r\n    try {\r\n      let formData = new FormData(form.target);\r\n      \r\n        if(!!formData.get('name')){ \r\n          const picIndx = icoChoosen.indx;      \r\n          let settings = getEdited(picIndx); \r\n          if(!!!settings) {\r\n            throw new Error('Apply settings to create preset');\r\n          }\r\n          settings = settings.settings;\r\n\r\n          formData.append('preset', JSON.stringify(settings));\r\n          const data = await request('/api/editor/preset/set', 'POST', 'multipart/form-data', formData);\r\n          if(!!data) {\r\n            console.log(data)\r\n            addPreset(data.name, data.settings);\r\n          }\r\n        }\r\n        else{\r\n          throw new Error('Name field is empty');\r\n        }\r\n      } \r\n      catch (e) {\r\n        console.log(e.message)\r\n      }\r\n      finally{\r\n        closeDropDown();\r\n      }\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    <li className='menu-item-li'>\r\n      <div className='menu-item' onClick={ closeDropDown }>Edit</div>\r\n      {\r\n        dropDown && \r\n\r\n        <div className = 'popup-menu'>\r\n          <PopupModal \r\n            name='Save preset...' \r\n            header='Import images' \r\n            onClick={ closeDropDown.bind(this) }\r\n          >\r\n            <div className='content'>\r\n              <div>\r\n                Preset is saved for your account image settings.\r\n              </div>\r\n              <div>\r\n                Input name of preset, if this name is exists your preset will be rewrited.\r\n              </div>\r\n              <br/>\r\n              <div className='account-div'>\r\n                <form onSubmit={ uploadPreset } className=\"spotlight style1 bottom cta\" >\r\n                  <input type='text' name='name' placeholder='Preset name' className='col-8 col-12-xsmall'/><br/>\r\n                  <input type='submit' value='Save' className='col-4 col-12-xsmall'/>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </PopupModal>\r\n          {/*<div className='menu-item'>item 3</div>*/}\r\n        </div>\r\n      }\r\n  </li>\r\n  );\r\n}\r\n\r\nexport default Edit;","import { pixelate } from 'jimp';\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport BurgerMenu from 'react-burger-menu';\r\nimport { useBetween } from \"use-between\";\r\nimport { Ajax } from './../../hooks/Ajax';\r\nimport { EditedImgStorage } from './../../hooks/EditedImgStorage';\r\nimport { IcoImgStorage } from './../../hooks/IcoImgStorage';\r\nimport { OrigImgStorage } from './../../hooks/OrigImgStorage';\r\n\r\nimport './Burg.scss';\r\nimport FilterList from './FilterList.json';\r\nconst Demo = (props) => {\r\n  const Menu = BurgerMenu.slide;\r\n  const { loading, request, error, clearError } = Ajax();\r\n  const { updateEdited, getEdited, PresetList, setPresetList } = useBetween(EditedImgStorage);\r\n  const { icoChoosen } = useBetween(IcoImgStorage);\r\n  const picIndx = icoChoosen.indx;\r\n  const { getOrig } = useBetween(OrigImgStorage);\r\n\r\n\r\n  const getFilters = useCallback(async () => {\r\n    try {\r\n      const data = await request('/api/editor/preset/all', 'GET');\r\n      if(!!data){\r\n        setPresetList(data);\r\n      }\r\n    } \r\n    catch (e) {\r\n      console.log(e);\r\n    }\r\n  });\r\n  \r\n  useEffect(() => { \r\n    getFilters();\r\n  }, []);\r\n\r\n  const usePreset = async (name, event) => {\r\n    try {\r\n      if(!!name) {\r\n        const pic = getOrig(picIndx);\r\n\r\n        let settings = await request(`/api/editor/preset/${name}`, 'GET');\r\n        let body = new FormData();\r\n        body.append('file', JSON.stringify({\r\n          data: pic.pic.img,\r\n          name: pic.pic.name\r\n        }));\r\n        body.append('settings', JSON.stringify(settings));\r\n        let data = await request('/api/editor/edit', 'PUT', 'multipart/form-data', body);\r\n        console.log(data)\r\n\r\n        if(data) {\r\n          settings = JSON.parse(settings);\r\n          updateEdited(data, picIndx, settings);\r\n        }\r\n      }\r\n    } \r\n    catch (e) {\r\n      console.log(e.message)\r\n    }\r\n  }\r\n\r\n  const delPreset = async (name, event) => {\r\n    try {\r\n      if(!!name) {\r\n        const pic = getEdited(picIndx);\r\n\r\n        let data = await request(`/api/editor/preset/${name}`, 'DELETE');\r\n\r\n        if(!!data) {\r\n          getFilters();\r\n        }\r\n      }\r\n    } \r\n    catch (e) {\r\n      console.log(e.message)\r\n    }\r\n  }\r\n  \r\n\r\n  return(\r\n    <div id='outer-container'>\r\n      <div className='slide'>\r\n        <Menu\r\n          onClick={ getFilters }\r\n          customBurgerIcon={ <img src='/icons/triangle.svg' /> }\r\n          pageWrapId = { 'page-wrap' }\r\n          outerContainerId = { 'outer-container' }\r\n          right = { false }\r\n          isOpen={ false }\r\n        >\r\n          <div className='slide-item'>\r\n            <span>Presets</span>\r\n            {\r\n              (!!picIndx || picIndx === 0? true : false) &&\r\n              PresetList.map((elem, index) => {\r\n                const presetName = elem.name;\r\n                return (\r\n                  <a key={ `preset_${ elem._id }` }>\r\n                    <span>{ presetName }</span>\r\n                    <div>\r\n                      <span onClick={ usePreset.bind(this, presetName) }>Use</span>\r\n                      <span onClick={ delPreset.bind(this, presetName) }>delete</span>\r\n                    </div>\r\n                  </a>\r\n                )\r\n              })\r\n            }\r\n            {\r\n              (!!!PresetList.length || picIndx === 0? !!picIndx : !!!picIndx) &&\r\n              <span className='slide-msg'>No Presets</span>\r\n            }\r\n          </div>\r\n          {/*\r\n          <div className='slide-item'>\r\n            <span>Filters</span>\r\n            {\r\n              FilterList.map((object, index) => {\r\n                return (\r\n                  <a key=\"0\">\r\n                    <i className=\"fa fa-fw fa-star-o\" />\r\n                    <span>{ object }</span>\r\n                    <span onClick={ removeFilter.bind(this, object) }>delete</span>\r\n                    <img onClick={ useFilter.bind(this, object) } src={ `./filters/${ object }.jpg` } />\r\n                  </a>\r\n                )\r\n              })\r\n            }\r\n            {\r\n              !!!FilterList.length &&\r\n              <span className='slide-msg'>No Presets</span>\r\n            }\r\n          </div>\r\n          */}\r\n        </Menu>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Demo;\r\n","import React from 'react';\r\nimport File from './File';\r\nimport Edit from './Edit';\r\nimport Burg from './../Burg';\r\nimport './Menu.scss';\r\n\r\n\r\nfunction Menu() {\r\n  return (\r\n    <div className='edit-menu'>\r\n      <ul>\r\n        <File name='File'/>\r\n        <Edit name='Edit'/>\r\n      </ul>\r\n      <ul>\r\n        <li><a href='/account'>Account</a></li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n","import React, { useRef } from 'react';\r\nimport { useBetween } from \"use-between\";\r\nimport { IcoImgStorage } from './../../../hooks/IcoImgStorage';\r\nimport { OrigImgStorage } from './../../../hooks/OrigImgStorage';\r\nimport { EditedImgStorage } from './../../../hooks/EditedImgStorage';\r\n\r\n\r\nfunction MinImg(props) {\r\n  let indx = props.indx;\r\n  let style = props.choosen === true? 'img-body choosen' : 'img-body';\r\n  const picRef = useRef(null);\r\n  const pic = props.pic;\r\n\r\n  const { setIcoChoosen, deleteIco } = useBetween(IcoImgStorage);\r\n  const { deleteOrig } = useBetween(OrigImgStorage);\r\n  const { deleteEdited } = useBetween(EditedImgStorage);\r\n\r\n  const choosePic = () => {\r\n    setIcoChoosen({ indx, name: pic.name });\r\n  }\r\n\r\n  const deletePic = () => {\r\n    deleteIco(indx);\r\n    deleteOrig(indx);\r\n    deleteEdited(indx);\r\n  };\r\n\r\n  return (\r\n    <div className={ style } ref={ picRef } onClick={ choosePic }>\r\n      <a className='close' onClick={ deletePic }>&times;</a>\r\n      <img  src={ `data:${ pic.mime };base64,${ pic.img }` } />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default MinImg;","import React from 'react';\r\nimport { IcoImgStorage } from './../../../hooks/IcoImgStorage';\r\nimport { useBetween } from \"use-between\";\r\nimport MinImg from './MinImg';\r\n\r\nfunction Package() {\r\n  const { icoChoosen, icoVal, getIcoAll } = useBetween(IcoImgStorage);\r\n\r\n  return (\r\n    <div className='edit-package'>\r\n        <div className = 'flow'>\r\n          { icoVal && getIcoAll().map((object, index) => {\r\n            let choosen = index === icoChoosen.indx? true : false;\r\n\r\n            return (\r\n              <MinImg key={ `key_${object.pic.name}` } choosen={ choosen } pic = { object.pic } indx={ index } />\r\n            )\r\n          })}\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Package;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\n\r\nfunction  RangeSlider(props) {\r\n  const param = props.param;\r\n  let start = param.start;\r\n  let value = props.value;\r\n  const step = param.step == undefined || param.step == null? '1' : param.step;\r\n  const [ range, setRange ] = useState(value !== start? value : start);\r\n\r\n  useEffect(() => {\r\n    setRange(value || start );\r\n  }, [props]);\r\n\r\n  const changeValue = (e) => {\r\n    setRange(e.target.value);\r\n  } \r\n\r\n  return (\r\n    <div>\r\n      <div onDoubleClick={ () => { setRange(start) } } className='labels'>\r\n        <label htmlFor = { `range${param.name }` }>\r\n          { param.name }\r\n        </label>\r\n        <label htmlFor = { `range${param.name }` }>{ range }</label>\r\n      </div>\r\n      <input type='range' \r\n        name = { param.name }\r\n        onChange = { changeValue.bind(this) }\r\n        min = { param.min }\r\n        max = { param.max }\r\n        value = { range || start } \r\n        step = { step } \r\n        id = { `range${param.name }` } \r\n      />\r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default RangeSlider;\r\n","import React, { useEffect } from 'react';\r\nimport { useBetween } from \"use-between\";\r\nimport { RangeSlider } from './Settings';\r\nimport RangeSliderList from './Settings/RangeSliderList.json';\r\nimport { Ajax } from './../../../hooks/Ajax';\r\nimport { EditedImgStorage } from './../../../hooks/EditedImgStorage';\r\n\r\n\r\nfunction EditSettings(props) {\r\n  const { loading, request, error, clearError } = Ajax();\r\n  const { updateEdited, getEdited } = useBetween(EditedImgStorage);\r\n\r\n  let icoChoosen = props.icoChoosen;\r\n\r\n  const editFile = async (form) => {\r\n    form.preventDefault();\r\n    try {\r\n      let formData = new FormData(form.target);\r\n      let settings = Object.fromEntries(formData);\r\n      //let edited = getEdited(props.indx);\r\n\r\n      let flag = 0;\r\n      for (let key in settings) {\r\n        if (settings.hasOwnProperty(key)) {\r\n          flag += Number(settings[key]);\r\n\r\n          /*\r\n          let sEdited = edited.settings;\r\n          if(!!sEdited && !!sEdited[key]){\r\n            if(\r\n              settings[key] >= sEdited[key]\r\n            ) {\r\n\r\n            }\r\n            for (let skey in sEdited) {\r\n              if(\r\n                sEdited.hasOwnProperty(skey) && \r\n                settings[key] >= sEdited[skey]\r\n              ) {\r\n\r\n              }\r\n            }\r\n          }\r\n          */\r\n        }\r\n      }\r\n\r\n      //props.pic = !!temp.filters? temp.pic : props.pic;\r\n      if(!!!flag) {\r\n        updateEdited(props.pic.pic, props.indx, settings);\r\n        throw new Error('Need to change settings');\r\n      }\r\n\r\n      if(formData){  \r\n        formData.append('file', JSON.stringify({\r\n          data: props.pic.pic.img,\r\n          name: props.pic.pic.name\r\n        }));\r\n\r\n        const data = await request('/api/editor/edit', 'PUT', 'multipart/form-data', formData);\r\n        if(data) {\r\n          updateEdited(data, props.indx, settings);\r\n        }\r\n      }\r\n      else{\r\n        throw new Error('Troubles with photo editing');\r\n      }\r\n    } \r\n    catch (e) {\r\n      console.log(e.message)\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  if(icoChoosen)\r\n    return (\r\n      <div className = 'edit-settings'>\r\n        <form onSubmit={ editFile }>\r\n          <span>Basic</span>\r\n          { RangeSliderList.Basic.map((setting, index) => {\r\n            return(\r\n              <RangeSlider \r\n                key={ `Basic_${setting.name}_${index}` }\r\n                value={ Object.keys(props.settings).length === 0? setting.start : props.settings[setting.name] } \r\n                param={ setting } \r\n              />\r\n            );\r\n          }) }\r\n          <span>RGB</span>\r\n          { RangeSliderList.RGB.map((setting, index) => {\r\n            return(\r\n              <RangeSlider\r\n                key={ `RGB_${setting.name}_${index}` }\r\n                value={ Object.keys(props.settings).length === 0? setting.start : props.settings[setting.name] } \r\n                param={ setting } \r\n              />\r\n            );\r\n          }) }\r\n          <input type='submit' value='Upload' />\r\n        </form>\r\n      </div>\r\n    );\r\n        \r\n  return (\r\n    <div className = 'edit-settings' />\r\n  );\r\n}\r\n\r\nexport default EditSettings;\r\n","import { createContext } from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const OrigImgContext = createContext({\r\n  origVal: [],\r\n  setOrig: noop,\r\n  getOrig: noop,\r\n  clearOrig: noop,\r\n})\r\n","import React, { useContext, useRef } from 'react';\r\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\r\nimport { OrigImgContext } from './../../../context/OrigImgContext';\r\n\r\n\r\nfunction EditImg(props) {\r\n  const imgRef = useRef(null);\r\n  let img = '/logo512.png';\r\n  if(props.pic != null){\r\n    const pic = props.pic.pic;\r\n    img = `data:${ pic.mime };base64,${ pic.img }`;\r\n    imgRef.current.className = pic.size[0] > pic.size[1]? 'width' : 'long';\r\n  }\r\n\r\n  return (\r\n    <div className='edit-img'>\r\n      <TransformWrapper>\r\n        {({ zoomIn, zoomOut, resetTransform, ...rest }) => (\r\n          <React.Fragment>\r\n            <div className=\"tools\">\r\n              <button onClick={ zoomIn }>+</button>\r\n              <button onClick={ zoomOut }>-</button>\r\n              <button onClick={ resetTransform }>x</button>\r\n            </div>\r\n            <TransformComponent>\r\n              <img className='long' ref={ imgRef } src={ img } alt=\"\"></img>\r\n            </TransformComponent>\r\n          </React.Fragment>\r\n        )}\r\n      </TransformWrapper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditImg;\r\n","import React from 'react';\r\nimport { useBetween } from \"use-between\";\r\nimport Skip from './../Skip';\r\nimport EditSettings from './EditSettings';\r\nimport EditImg from './EditImg';\r\nimport { IcoImgStorage } from './../../../hooks/IcoImgStorage';\r\nimport { OrigImgStorage } from './../../../hooks/OrigImgStorage';\r\nimport { EditedImgStorage } from './../../../hooks/EditedImgStorage';\r\n\r\n\r\nfunction Window() {\r\n  const { icoChoosen } = useBetween(IcoImgStorage);\r\n  const { getEdited } = useBetween(EditedImgStorage);\r\n  const { getOrig } = useBetween(OrigImgStorage);\r\n\r\n  let imgEdited = getEdited(icoChoosen.indx);\r\n  let imgOrig = getOrig(icoChoosen.indx);\r\n  let settings = imgEdited === null? {} : imgEdited.settings;\r\n\r\n  return (\r\n    <div className='edit-window'>\r\n      <EditImg pic={ imgEdited } />\r\n      <EditSettings \r\n        settings = { settings }\r\n        pic={ imgOrig } \r\n        indx={ icoChoosen.indx } \r\n        icoChoosen={ !!icoChoosen.name } \r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Window;\r\n","import React from 'react';\r\n\r\nimport { Menu, Package, Window, Burg } from './../components/Editor';\r\n\r\nimport './Editor.scss';\r\n\r\n\r\nfunction Editor() {\r\n\r\n  return (\r\n    <div className='edit-container'>\r\n      <Menu />\r\n      <Burg/>\r\n      <Window/>\r\n      <Package />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Editor;\r\n","import React, { useContext, useEffect, useCallback, useState, useRef } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { Ajax } from '../../hooks/Ajax';\r\n\r\nfunction Admin() {\r\n  const auth = useContext(AuthContext);\r\n  const { loading, request, error, clearError } = Ajax();\r\n\tconst [clientInfo, setClientInfo] = useState({});\r\n\tconst [subsInfo, setSubsInfo] = useState([]);\r\n\r\n\tlet sNameRef = useRef(null), fNameRef = useRef(null); \r\n\r\n\tconst getInfo = useCallback(async () => {\r\n    try {\r\n\t\t\tconst data = await request('/api/account/info', 'GET');\r\n\t\t\tdata.subDate = data.subDate.substr(0, 10);\r\n\r\n\t\t\tsetClientInfo(data);\r\n\t\t\tfNameRef.current.value = data.fName;\r\n\t\t\tsNameRef.current.value = data.sName;\r\n    } \r\n    catch (e) {\r\n      console.log(e.message);\r\n    }\r\n\t});\r\n\t\r\n\tconst getSubInfo = useCallback(async () => {\r\n    try {\r\n\t\t\tconst data = await request('/api/admin/client/all', 'GET');\r\n\t\t\tconsole.log(data)\r\n\t\t\tsetSubsInfo(data);\r\n    } \r\n    catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  });\r\n\r\n\tconst updateSubInfo = async (form) => {\r\n\t\tform.preventDefault();\r\n\t\ttry {\r\n\t\t\tlet formData = new FormData(form.target);\r\n\t\t\tform = {};\r\n\t\t\tformData.forEach((value, key) => { \r\n\t\t\t\t\tform[key] = value;\r\n\t\t\t});\r\n\r\n\t\t\tif(!!!form) {\r\n\t\t\t\tthrow new Error('Form is empty, set valid values');\r\n\t\t\t}\r\n\r\n\t\t\tconst body = {\r\n\t\t\t\t_id: form._id,\r\n\t\t\t\tisAdmin: !!form.isAdmin,\r\n\t\t\t\tisSub: !!form.isSub\r\n\t\t\t}\t\t\t\r\n\t\t\tconst data = await request('/api/admin/client/permission', 'PUT', 'application/json', body);\r\n\t\t} \r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e.message)\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\tconst updateInfo = async (form) => {\r\n\t\tform.preventDefault();\r\n\t\ttry {\r\n\t\t\tlet formData = new FormData(form.target);\r\n\t\t\tform = {};\r\n\t\t\tformData.forEach((value, key) => { \r\n\t\t\t\t\tform[key] = value;\r\n\t\t\t});\r\n\r\n\t\t\tif(!!!form) {\r\n\t\t\t\tthrow new Error('Form is empty, set valid values');\r\n\t\t\t}\r\n\r\n\t\t\tif(\r\n\t\t\t\t(!!!form.sName || !!!form.fName) ||\r\n\t\t\t\t(form.fName === clientInfo.fName && form.sName === clientInfo.sName)\r\n\t\t\t) {\r\n\t\t\t\tthrow new Error('One of the fields is empty or have invalid value');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await request('/api/account/info', 'PUT', 'application/json', {...form});\r\n\t\t\tif(!!data){\r\n\t\t\t\tsetClientInfo(data);\r\n\t\t\t\tfNameRef.current.value = data.fName;\r\n\t\t\t\tsNameRef.current.value = data.sName;\r\n\t\t\t}\r\n\t\t} \r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e.message)\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst DeleteAcc = async () => {\r\n\t\ttry {\r\n\t\t\tif (window.confirm(\"Are you sure, that you wanna delete your account?\")) {\r\n\t\t\t\tconst data = await request('/api/account/info', 'DELETE');\r\n\t\t\t\tauth.logout();\r\n\t\t\t}\r\n\t\t} \r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e.message)\r\n\t\t}\r\n\t}\r\n  \r\n  useEffect(() => { \r\n\t\tgetInfo();\r\n\t\tgetSubInfo();\r\n  }, []);\r\n\r\n  return(\r\n\t\t<div className=\"container\">\r\n\t\t\t<header className=\"major\">\r\n\t\t\t\t<h2>Welcome { clientInfo.fName } { clientInfo.sName }</h2>\r\n\t\t\t\t<p>This is your Administrator page</p>\r\n\t\t\t</header>\r\n\t\t\t<div className=\"row gtr-150\">\r\n\t\t\t\t<div className=\"col-8 col-12-medium\">\r\n\t\t\t\t\t<section id=\"content\">\r\n\t\t\t\t\t\t<h3>Accounts info</h3>\r\n\t\t\t\t\t\t<p>At this form you can change other account permission</p>\r\n\t\t\t\t\t\t<div className='account-div'>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsubsInfo.map(elem => { return(\r\n\t\t\t\t\t\t\t\t\t<form key={ `form_${ elem._id }` } onSubmit={ updateSubInfo } className=\"spotlight style1 bottom cta\" >\r\n\t\t\t\t\t\t\t\t\t\t<input type='text' name='_id' value={ elem._id } placeholder='ID' className='col-8 col-12-xsmall' readOnly/>\r\n\t\t\t\t\t\t\t\t\t\t<div className='form-space'>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type='text' name='fName' value={ elem.fName } placeholder='First name' className='col-8 col-12-xsmall' readOnly/>\r\n\t\t\t\t\t\t\t\t\t\t\t<input type='text' name='sName' value={ elem.sName } placeholder='Second name' className='col-8 col-12-xsmall' readOnly/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='form-space'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3>Is Admin</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"switch\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" name='isAdmin' defaultChecked={ elem.isAdmin } />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"slider round\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3>Is Subscriber</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"switch\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" name='isSub' defaultChecked={ elem.isSub } />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"slider round\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<input type='submit' value='Change' className='col-4 col-12-xsmall' />\r\n\t\t\t\t\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t)})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<section id=\"content\">\r\n\t\t\t\t\t\t<h3>Your info</h3>\r\n\t\t\t\t\t\t<div className='account-div'>\r\n\t\t\t\t\t\t\t<form onSubmit={ updateInfo } className=\"spotlight style1 bottom cta\" >\r\n\t\t\t\t\t\t\t\t<input type='text' name='fName' placeholder='First name' ref={ fNameRef } className='col-8 col-12-xsmall' />\r\n\t\t\t\t\t\t\t\t<input type='text' name='sName' placeholder='Second name' ref={ sNameRef } className='col-8 col-12-xsmall' />\r\n\t\t\t\t\t\t\t\t<input type='submit' value='Change' className='col-4 col-12-xsmall' />\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-4 col-12-medium\">\r\n\t\t\t\t\t<section id=\"sidebar\">\r\n\t\t\t\t\t\t<section>\r\n\t\t\t\t\t\t\t<a href=\"#\" className=\"image fit\"><img src=\"images/pic07.jpg\" alt=\"\" /></a>\r\n\t\t\t\t\t\t\t<h3>Subscriber info</h3>\r\n\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>E-mail: { clientInfo.email }</li><br/>\r\n\t\t\t\t\t\t\t\t<li>Is Subscriber: { (!!clientInfo.isSub).toString() }</li><br/>\r\n\t\t\t\t\t\t\t\t<li>Is Admin: { (!!clientInfo.isAdmin).toString() }</li><br/>\r\n\t\t\t\t\t\t\t\t<li>Subscription date: { clientInfo.subDate }</li><br/>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<section>\r\n\t\t\t\t\t\t\t\t<h3>Delete account</h3>\r\n\t\t\t\t\t\t\t\t<p>After click on \"Delete\" button you cannot undo this decision</p>\r\n\t\t\t\t\t\t\t\t<footer>\r\n\t\t\t\t\t\t\t\t\t<ul className=\"actions\">\r\n\t\t\t\t\t\t\t\t\t\t<li><a onClick={ DeleteAcc } className=\"button\">Delete</a></li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</footer>\r\n\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t</section>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  );\r\n}\r\n\r\nexport default Admin;","import React, { useContext, useEffect, useCallback, useState, useRef } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { Ajax } from '../../hooks/Ajax';\r\n\r\nfunction Client() {\r\n  const auth = useContext(AuthContext);\r\n  const { loading, request, error, clearError } = Ajax();\r\n\tconst [clientInfo, setClientInfo] = useState({});\r\n\tlet sNameRef = useRef(null), fNameRef = useRef(null); \r\n\r\n\tconst getInfo = useCallback(async () => {\r\n    try {\r\n\t\t\tconst data = await request('/api/account/info', 'GET');\r\n\t\t\tdata.subDate = data.subDate.substr(0, 10);\r\n\t\t\tsetClientInfo(data);\r\n\t\t\tfNameRef.current.value = data.fName;\r\n\t\t\tsNameRef.current.value = data.sName;\r\n    } \r\n    catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  });\r\n\r\n\t\r\n\tconst updateInfo = async (form) => {\r\n\t\tform.preventDefault();\r\n\t\ttry {\r\n\t\t\tlet formData = new FormData(form.target);\r\n\t\t\tform = {};\r\n\t\t\tformData.forEach((value, key) => { \r\n\t\t\t\t\tform[key] = value;\r\n\t\t\t});\r\n\r\n\t\t\tif(!!!form) {\r\n\t\t\t\tthrow new Error('Form is empty, set valid values');\r\n\t\t\t}\r\n\r\n\t\t\tif(\r\n\t\t\t\t(!!!form.sName || !!!form.fName) ||\r\n\t\t\t\t(form.fName === clientInfo.fName && form.sName === clientInfo.sName)\r\n\t\t\t) {\r\n\t\t\t\tthrow new Error('One of the fields is empty or have invalid value');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await request('/api/account/info', 'PUT', 'application/json', {...form});\r\n\t\t\tif(!!data){\r\n\t\t\t\tdata.subDate = data.subDate.substr(0, 10);\r\n\t\t\t\tsetClientInfo(data);\r\n\t\t\t\tfNameRef.current.value = data.fName;\r\n\t\t\t\tsNameRef.current.value = data.sName;\r\n\t\t\t}\r\n\t\t} \r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e.message)\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst DeleteAcc = async () => {\r\n\t\ttry {\r\n\t\t\tif (window.confirm(\"Are you sure, that you wanna delete your account?\")) {\r\n\t\t\t\tconst data = await request('/api/account/info', 'DELETE');\r\n\t\t\t\tauth.logout();\r\n\t\t\t}\r\n\t\t} \r\n\t\tcatch (e) {\r\n\t\t\tconsole.log(e.message)\r\n\t\t}\r\n\t}\r\n  \r\n  useEffect(() => { \r\n    getInfo();\r\n  }, []);\r\n\r\n  return(\r\n\t\t<div className=\"container\">\r\n\t\t\t<header className=\"major\">\r\n\t\t\t\t<h2>Welcome { clientInfo.fName } { clientInfo.sName }</h2>\r\n\t\t\t\t<p>This is your account page</p>\r\n\t\t\t</header>\r\n\t\t\t<div className=\"row gtr-150\">\r\n\t\t\t\t<div className=\"col-8 col-12-medium\">\r\n\t\t\t\t\t<section id=\"content\">\r\n\t\t\t\t\t\t<h3>Account info</h3>\r\n\t\t\t\t\t\t<p>At this form you can change your account information</p>\r\n\t\t\t\t\t\t<div className='account-div'>\r\n\t\t\t\t\t\t\t<form onSubmit={ updateInfo } className=\"spotlight style1 bottom cta\" >\r\n\t\t\t\t\t\t\t\t<input type='text' name='fName' placeholder='First name' ref={ fNameRef } className='col-8 col-12-xsmall' />\r\n\t\t\t\t\t\t\t\t<input type='text' name='sName' placeholder='Second name' ref={ sNameRef } className='col-8 col-12-xsmall' />\r\n\t\t\t\t\t\t\t\t<input type='submit' value='Change' className='col-4 col-12-xsmall' />\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-4 col-12-medium\">\r\n\t\t\t\t\t<section id=\"sidebar\">\r\n\t\t\t\t\t\t<section>\r\n\t\t\t\t\t\t\t<a href=\"#\" className=\"image fit\"><img src=\"images/pic07.jpg\" alt=\"\" /></a>\r\n\t\t\t\t\t\t\t<h3>Subscriber info</h3>\r\n\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li>E-mail: { clientInfo.email }</li><br/>\r\n\t\t\t\t\t\t\t\t<li>Is Subscriber: { (!!clientInfo.isSub).toString() }</li><br/>\r\n\t\t\t\t\t\t\t\t<li>Subscription date: { clientInfo.subDate }</li><br/>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<section>\r\n\t\t\t\t\t\t\t\t<h3>Delete account</h3>\r\n\t\t\t\t\t\t\t\t<p>After click on \"Delete\" button you cannot undo this decision</p>\r\n\t\t\t\t\t\t\t\t<footer>\r\n\t\t\t\t\t\t\t\t\t<ul className=\"actions\">\r\n\t\t\t\t\t\t\t\t\t\t<li><a onClick={ DeleteAcc } className=\"button\">Delete</a></li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</footer>\r\n\t\t\t\t\t\t\t</section>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t</section>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  );\r\n}\r\n\r\nexport default Client;","import React, { useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nimport Admin from './Admin';\r\nimport Client from './Client';\r\n\r\nimport './../Main.scss';\r\nimport './Account.scss';\r\n\r\nfunction Account() {\r\n  const auth = useContext(AuthContext);\r\n  const isAdmin = auth.isAdmin;\r\n\r\n  const Logout = () => {\r\n\t\tauth.logout();\r\n  } \r\n  \r\n    return (\r\n      <div id=\"page-wrapper\" className='account-form'>\r\n        <header id=\"header\">\r\n          <h1 id=\"logo\"><a href=\"/\">Editor</a></h1>\r\n          <nav id=\"nav\">\r\n            <ul>\r\n              <li><a href='/editor'>Try Editor</a></li>\r\n              <li><a onClick={ Logout.bind(this) } className='button primary'>Logout</a></li>\r\n            </ul>\r\n          </nav>\r\n        </header>\r\n\r\n        <div id=\"main\" className=\"wrapper style1\">\r\n          { isAdmin && <Admin/> }\r\n          { !isAdmin && <Client/> }\r\n        </div>\r\n      </div>\r\n      \r\n    );\r\n}\r\n\r\nexport default Account;","import React, { useContext } from 'react';\r\nimport { AuthContext } from './../../context/AuthContext';\r\nimport { Ajax } from './../../hooks/Ajax';\r\n\r\nimport './Auth.scss';\r\nimport './../Main.scss';\r\n\r\nfunction Login() {\r\n  const auth = useContext(AuthContext);\r\n  const { loading, request, error, clearError } = Ajax();\r\n\r\n\r\n    const loginClick = async (form) => {\r\n      form.preventDefault();\r\n      try {\r\n        let formData = new FormData(form.target);\r\n\r\n        form = {};\r\n        formData.forEach((value, key) => { \r\n            form[key] = value;\r\n        });\r\n\r\n        const data = await request('/api/auth/login', 'POST', 'application/json', {...form});\r\n        auth.login(data.token, data.userId, data.is.isAdmin);\r\n        window.location.href = '/account';\r\n      } \r\n      catch (e) {}\r\n\r\n      return false;\r\n    }\r\n\r\n    return (\r\n      <div id=\"page-wrapper\" className='auth-form'>\r\n        <header id=\"header\">\r\n\t\t\t\t\t<h1 id=\"logo\"><a href=\"/\">Editor</a></h1>\r\n\t\t\t\t\t<nav id=\"nav\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li><a href=\"/\">Home</a></li>\r\n              <li><a href=\"/login\" className=\"button primary\">Sign Up</a></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</nav>\r\n\t\t\t\t</header>\r\n        <div className='auth-div'>\r\n          <form onSubmit={ loginClick } className=\"spotlight style1 bottom cta\" >\r\n            <input type='text' name='email' placeholder='E-mail' className='col-8 col-12-xsmall' />\r\n            <input type='password' name='password' placeholder='Password' className='col-8 col-12-xsmall' />\r\n            <input type='submit' value='Login' className='col-4 col-12-xsmall' />\r\n          </form>\r\n          <a href='/registration'>Registration</a>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Ajax } from './../../hooks/Ajax';\r\n\r\nimport './Auth.scss';\r\nimport './../Main.scss';\r\n\r\nfunction Registration() {\r\n  const { loading, request, error, clearError } = Ajax();\r\n\r\n  const regClick = async (form) => {\r\n    form.preventDefault();\r\n    try {\r\n      let formData = new FormData(form.target);\r\n\r\n      form = {};\r\n      formData.forEach((value, key) => { \r\n        form[key] = value;\r\n          if(!value){\r\n            throw new Error(`${key} is empty`);\r\n          }\r\n      });\r\n\r\n      if(form.password === form.password2){\r\n        const data = await request('/api/auth/registration', 'POST', 'application/json', {...form});\r\n        window.location.href = '/login';\r\n      }\r\n      else{\r\n        alert('wrong pass')\r\n      }\r\n\r\n    } \r\n    catch (e) {\r\n      console.log('err ' + e.message);\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n\r\n  return (\r\n    <div id=\"page-wrapper\" className='auth-form'>\r\n    <header id=\"header\">\r\n      <h1 id=\"logo\"><a href=\"/\">Editor</a></h1>\r\n      <nav id=\"nav\">\r\n        <ul>\r\n          <li><a href=\"/\">Home</a></li>\r\n          <li><a href=\"/login\" className=\"button primary\">Sign Up</a></li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n    <div className='auth-div'>\r\n      <form onSubmit={ regClick } className=\"spotlight style1 bottom cta\" >\r\n      <input type='text' name='email' placeholder='E-mail' className='col-8 col-12-xsmall' />\r\n        <input type='password' name='password' placeholder='Password' className='col-8 col-12-xsmall' />\r\n        <input type='password' name='password2' placeholder='Password repeat' className='col-8 col-12-xsmall' />\r\n        <input type='text' name='fName' placeholder='First Name' className='col-8 col-12-xsmall' />\r\n        <input type='text' name='sName' placeholder='Second Name' className='col-8 col-12-xsmall' />\r\n        <input type='submit' value='Registration' className='col-4 col-12-xsmall' />\r\n      </form>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Registration;\r\n","import React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport { AuthContext } from './context/AuthContext';\nimport { Auth } from './hooks/Auth';\nimport { Routes } from './Routes';\n\nfunction App() {\n  const { token, login, logout, userId, isAdmin, ready } = Auth();\n  const isAuthenticated = !!token;\n  const routes = Routes(isAuthenticated);\n    \n  if (!ready) {\n    return 0;\n  }\n\n  return (\n    <AuthContext.Provider value={{\n      token, login, logout, userId, isAuthenticated, isAdmin\n    }}>\n      <Router>\n        <div className='App'>\n          { isAuthenticated }\n          { routes }\n        </div>\n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\n//Components\r\nimport Main from './pages/Main';\r\nimport Editor from './pages/Editor';\r\nimport Account from './pages/Account';\r\nimport Login from './pages/Auth/Login';\r\nimport Registration from './pages/Auth/Registration';\r\n\r\n\r\nexport const Routes = (isAuthenticated) => {\r\n\r\n  if (isAuthenticated) {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/\" >\r\n          <Main />\r\n        </Route>\r\n        <Route exact path=\"/editor\" >\r\n          <Editor />\r\n        </Route>\r\n        <Route exact path=\"/account\" >\r\n          <Account />\r\n        </Route>\r\n\r\n        <Route exact path=\"/login\" >\r\n          <Login />\r\n        </Route>\r\n\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\" >\r\n        <Main />\r\n      </Route>\r\n      <Route exact path=\"/login\" >\r\n        <Login />\r\n      </Route>\r\n      <Route exact path=\"/registration\" >\r\n        <Registration />\r\n      </Route>\r\n      <Redirect to=\"/login\" />\r\n    </Switch>\r\n  )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}