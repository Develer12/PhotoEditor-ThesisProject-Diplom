(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,a,t){},21:function(e){e.exports=JSON.parse('["Sepia"]')},22:function(e){e.exports=JSON.parse('{"Basic":[{"name":"Exposition","min":"-1","max":"1","step":"0.01","start":"0"},{"name":"\u0421ontrast","min":"-1","max":"1","step":"0.01","start":"0"},{"name":"Highlights","min":"0","max":"100","start":"0"},{"name":"Shadows","min":"0","max":"100","start":"0"},{"name":"Darken","min":"0","max":"100","start":"0"},{"name":"Desaturate","min":"0","max":"100","start":"0"},{"name":"Saturation","min":"-100","max":"100","start":"0"},{"name":"Hue","min":"-360","max":"360","start":"0"},{"name":"Tint","min":"-360","max":"360","start":"0"},{"name":"Shade","min":"-360","max":"360","start":"0"}],"RGB":[{"name":"Red","min":"-360","max":"360","start":"0"},{"name":"Green","min":"-360","max":"360","start":"0"},{"name":"Blue","min":"-360","max":"360","start":"0"}]}')},29:function(e,a,t){},35:function(e,a,t){e.exports=t(66)},40:function(e,a,t){},42:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){},62:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(14),c=t.n(l),i=(t(40),t(20));function o(){}var s=Object(n.createContext)({token:null,userId:null,login:o,logout:o,isAuthenticated:!1}),m=t(1),u=t(4);t(19);var p=function(){var e=Object(n.useContext)(s).isAuthenticated,a=function(e){return{backgroundPosition:"center -12px",backgroundImage:"url("+e+")"}};return r.a.createElement("div",{id:"page-wrapper"},r.a.createElement("header",{id:"header"},r.a.createElement("h1",{id:"logo"},r.a.createElement("a",{href:"/"},"Editor")),r.a.createElement("nav",{id:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,!e&&r.a.createElement("a",{href:"/login",className:"button primary"},"Sign Up"),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("a",{href:"/editor"},"Try Editor")),r.a.createElement("li",null,r.a.createElement("a",{href:"/client",className:"button primary"},"Account"))))))),r.a.createElement("section",{id:"banner"},r.a.createElement("div",{className:"content"},r.a.createElement("header",null,r.a.createElement("h2",null,"The future has landed"),r.a.createElement("p",null,"And there are no hoverboards or flying cars.",r.a.createElement("br",null),"Just apps. Lots of mother flipping apps."),r.a.createElement("ul",{className:"actions"},r.a.createElement("li",null,r.a.createElement("a",{href:"/editor",className:"button"},"Try Editor")))),r.a.createElement("span",{className:"image"},r.a.createElement("img",{src:"logo512.png",alt:""}))),r.a.createElement("a",{href:"#one",className:"goto-next scrolly"},"Next")),r.a.createElement("section",{id:"one",className:"spotlight style1 bottom",style:a("mainpic1.jpg")},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 col-12-medium"},r.a.createElement("header",null,r.a.createElement("h2",null,"Odio faucibus ipsum integer consequat"),r.a.createElement("p",null,"Nascetur eu nibh vestibulum amet gravida nascetur praesent"))),r.a.createElement("div",{className:"col-4 col-12-medium"},r.a.createElement("p",null,"Feugiat accumsan lorem eu ac lorem amet sed accumsan donec. Blandit orci porttitor semper. Arcu phasellus tortor enim mi nisi praesent dolor adipiscing. Integer mi sed nascetur cep aliquet augue varius tempus lobortis porttitor accumsan consequat adipiscing lorem dolor.")),r.a.createElement("div",{className:"col-4 col-12-medium"},r.a.createElement("p",null,"Morbi enim nascetur et placerat lorem sed iaculis neque ante adipiscing adipiscing metus massa. Blandit orci porttitor semper. Arcu phasellus tortor enim mi mi nisi praesent adipiscing. Integer mi sed nascetur cep aliquet augue varius tempus. Feugiat lorem ipsum dolor nullam."))))),r.a.createElement("a",{href:"#two",className:"goto-next scrolly"},"Next")),r.a.createElement("section",{id:"two",className:"spotlight style2 right",style:a("pic04.jpg")},r.a.createElement("div",{className:"content"},r.a.createElement("header",null,r.a.createElement("h2",null,"Interdum amet non magna accumsan"),r.a.createElement("p",null,"Nunc commodo accumsan eget id nisi eu col volutpat magna")),r.a.createElement("p",null,"Feugiat accumsan lorem eu ac lorem amet ac arcu phasellus tortor enim mi mi nisi praesent adipiscing. Integer mi sed nascetur cep aliquet augue varius tempus lobortis porttitor lorem et accumsan consequat adipiscing lorem."),r.a.createElement("ul",{className:"actions"},r.a.createElement("li",null,r.a.createElement("a",{href:"#",className:"button"},"Learn More")))),r.a.createElement("a",{href:"#three",className:"goto-next scrolly"},"Next")),r.a.createElement("section",{id:"three",className:"spotlight style3 left",style:a("pic04.jpg")},r.a.createElement("div",{className:"content"},r.a.createElement("header",null,r.a.createElement("h2",null,"Interdum felis blandit praesent sed augue"),r.a.createElement("p",null,"Accumsan integer ultricies aliquam vel massa sapien phasellus")),r.a.createElement("p",null,"Feugiat accumsan lorem eu ac lorem amet ac arcu phasellus tortor enim mi mi nisi praesent adipiscing. Integer mi sed nascetur cep aliquet augue varius tempus lobortis porttitor lorem et accumsan consequat adipiscing lorem."),r.a.createElement("ul",{className:"actions"},r.a.createElement("li",null,r.a.createElement("a",{href:"#",className:"button"},"Learn More")))),r.a.createElement("a",{href:"#four",className:"goto-next scrolly"},"Next")),r.a.createElement("section",{id:"four",className:"wrapper style1 special fade-up"},r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"major"},r.a.createElement("h2",null,"Accumsan sed tempus adipiscing blandit"),r.a.createElement("p",null,"Iaculis ac volutpat vis non enim gravida nisi faucibus posuere arcu consequat")),r.a.createElement("div",{className:"box alt"},r.a.createElement("div",{className:"row gtr-uniform"},r.a.createElement("section",{className:"col-4 col-6-medium col-12-xsmall"},r.a.createElement("span",{className:"icon solid alt major fa-chart-area"}),r.a.createElement("h3",null,"Ipsum sed commodo"),r.a.createElement("p",null,"Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.")),r.a.createElement("section",{className:"col-4 col-6-medium col-12-xsmall"},r.a.createElement("span",{className:"icon solid alt major fa-comment"}),r.a.createElement("h3",null,"Eleifend lorem ornare"),r.a.createElement("p",null,"Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.")),r.a.createElement("section",{className:"col-4 col-6-medium col-12-xsmall"},r.a.createElement("span",{className:"icon solid alt major fa-flask"}),r.a.createElement("h3",null,"Cubilia cep lobortis"),r.a.createElement("p",null,"Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.")),r.a.createElement("section",{className:"col-4 col-6-medium col-12-xsmall"},r.a.createElement("span",{className:"icon solid alt major fa-paper-plane"}),r.a.createElement("h3",null,"Non semper interdum"),r.a.createElement("p",null,"Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.")),r.a.createElement("section",{className:"col-4 col-6-medium col-12-xsmall"},r.a.createElement("span",{className:"icon solid alt major fa-file"}),r.a.createElement("h3",null,"Odio laoreet accumsan"),r.a.createElement("p",null,"Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.")),r.a.createElement("section",{className:"col-4 col-6-medium col-12-xsmall"},r.a.createElement("span",{className:"icon solid alt major fa-lock"}),r.a.createElement("h3",null,"Massa arcu accumsan"),r.a.createElement("p",null,"Feugiat accumsan lorem eu ac lorem amet accumsan donec. Blandit orci porttitor.")))),r.a.createElement("footer",{className:"major"},r.a.createElement("ul",{className:"actions special"},r.a.createElement("li",null,r.a.createElement("a",{href:"/editor",className:"button"},"Try Editor")))))),r.a.createElement("section",{id:"five",className:"wrapper style2 special fade"},r.a.createElement("div",{className:"container"},r.a.createElement("header",null,r.a.createElement("h2",null,"Magna faucibus lorem diam"),r.a.createElement("p",null,"Ante metus praesent faucibus ante integer id accumsan eleifend")),r.a.createElement("form",{method:"post",action:"#",className:"cta"},r.a.createElement("div",{className:"row gtr-uniform gtr-50"},r.a.createElement("div",{className:"col-8 col-12-xsmall"},r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Your Email Address"})),r.a.createElement("div",{className:"col-4 col-12-xsmall"},r.a.createElement("input",{type:"submit",value:"Get Started",className:"fit primary"})))))),r.a.createElement("footer",{id:"footer"},r.a.createElement("ul",{className:"icons"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.linkedin.com/in/arseni-matsiukh-1895ab1b3/",className:"icon brands alt fa-linkedin-in"},r.a.createElement("span",{className:"label"},"LinkedIn"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.instagram.com/develer12/",className:"icon brands alt fa-instagram"},r.a.createElement("span",{className:"label"},"Instagram"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/Develer12",className:"icon brands alt fa-github"},r.a.createElement("span",{className:"label"},"GitHub"))),r.a.createElement("li",null,r.a.createElement("a",{href:"mailto:armagedondeveler@gmail.com",className:"icon solid alt fa-envelope"},r.a.createElement("span",{className:"label"},"Email")))),r.a.createElement("ul",{className:"copyright"},r.a.createElement("li",null,"\xa9 Untitled. All rights reserved."),r.a.createElement("li",null,"Design: ",r.a.createElement("a",{href:"https://github.com/Develer12"},"Develer12")))))},d=t(2),g=t.n(d),E=t(12),f=t(6),h=t(31),v=(t(42),{maxWidth:"600px",width:"90%"});var b=function(e){return r.a.createElement(h.a,{modal:!0,nested:!0,onClose:function(){e.onClick()},contentStyle:v,trigger:r.a.createElement("div",{className:"menu-item"},e.name)},(function(a){return r.a.createElement("div",{className:"modal"},r.a.createElement("a",{className:"close",onClick:a},"\xd7"),r.a.createElement("div",{className:"header"}," ",e.header," "),e.children)}))},N=function(){var e=Object(n.useState)(!1),a=Object(m.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(null),c=Object(m.a)(l,2),i=c[0],o=c[1],u=Object(n.useContext)(s).token;return{loading:t,request:Object(n.useCallback)(function(){var e=Object(f.a)(g.a.mark((function e(a){var t,n,l,c,i,s,m=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>1&&void 0!==m[1]?m[1]:"GET",n=m.length>2&&void 0!==m[2]?m[2]:"application/json",l=m.length>3&&void 0!==m[3]?m[3]:null,c=m.length>4&&void 0!==m[4]?m[4]:{},r(!0),e.prev=5,l&&"multipart/form-data"!==n&&(l=JSON.stringify(l),c["Content-Type"]=n),c.Authorization=u?"user ".concat(u):null,e.next=10,fetch(a,{method:t,body:l,headers:c});case 10:if(i=e.sent,s=i.json(),i.ok){e.next=14;break}throw new Error(s.message||"Something wrong");case 14:return alert("done"),r(!1),e.abrupt("return",s);case 19:throw e.prev=19,e.t0=e.catch(5),r(!1),o(e.t0.message),e.t0;case 24:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(a){return e.apply(this,arguments)}}(),[]),error:i,clearError:Object(n.useCallback)((function(){return o(null)}),[])}},O=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)({indx:null,name:null}),c=Object(m.a)(l,2),i=c[0],o=c[1],s=Object(n.useCallback)((function(e){var a=localStorage.getItem("IcoImgStorage");a=a?JSON.parse(a):[],e&&(e.forEach((function(e){a.push({pic:e})})),localStorage.setItem("IcoImgStorage",JSON.stringify(a))),r(a)}),[]);Object(n.useEffect)((function(){}),[t,s]);return{icoChoosen:i,setIcoChoosen:o,icoVal:t,setIcoVal:r,setIco:s,getIco:function(e){var a=JSON.parse(localStorage.getItem("IcoImgStorage"));return a?a=a[e]?a[e]:null:null},getIcoAll:function(){var e=JSON.parse(localStorage.getItem("IcoImgStorage"));return e||[]},deleteIco:function(e){var a=JSON.parse(localStorage.getItem("IcoImgStorage"));a&&(a.splice(e,1),localStorage.setItem("IcoImgStorage",JSON.stringify(a)),r(a))},clearIco:function(){r([]),localStorage.removeItem("IcoImgStorage")}}},x=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)({indx:null,name:null}),c=Object(m.a)(l,2),i=c[0],o=c[1],s=Object(n.useCallback)((function(e){var a=localStorage.getItem("OrigImgStorage");a=a?JSON.parse(a):[],e&&(e.forEach((function(e){a.push({pic:e})})),localStorage.setItem("OrigImgStorage",JSON.stringify(a))),r(a)}),[]);Object(n.useEffect)((function(){}),[t,s]);return{origChoosen:i,setOrigChoosen:o,origVal:t,setOrigVal:r,setOrig:s,getOrig:function(e){var a=JSON.parse(localStorage.getItem("OrigImgStorage"));return a?a=a[e]?a[e]:null:null},getOrigAll:function(){var e=JSON.parse(localStorage.getItem("OrigImgStorage"));return e||[]},deleteOrig:function(e){var a=JSON.parse(localStorage.getItem("OrigImgStorage"));a&&(a.splice(e,1),localStorage.setItem("OrigImgStorage",JSON.stringify(a)),r(a))},clearOrig:function(){r([]),localStorage.removeItem("OrigImgStorage")}}},S=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)({indx:null,name:null}),c=Object(m.a)(l,2),i=c[0],o=c[1],s=Object(n.useCallback)((function(e,a){var t=localStorage.getItem("EditedImgStorage");t=t?JSON.parse(t):[],e&&(e.forEach((function(e){t.push({pic:e,settings:a}),console.log(t)})),localStorage.setItem("EditedImgStorage",JSON.stringify(t))),r(t)}),[]),u=Object(n.useCallback)((function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=JSON.parse(localStorage.getItem("EditedImgStorage"));e&&l[a]&&(t=t||l[a].settings,n=n||l[a].filters,console.log(n),l[a]={pic:e,settings:t},localStorage.setItem("EditedImgStorage",JSON.stringify(l))),r(l)}),[]);Object(n.useEffect)((function(){}),[t,s]);return{editedChoosen:i,setEditedChoosen:o,editedVal:t,setEditedVal:r,setEdited:s,updateEdited:u,getEdited:function(e){var a=JSON.parse(localStorage.getItem("EditedImgStorage"));return a?a=a[e]?a[e]:null:null},getEditedAll:function(){var e=JSON.parse(localStorage.getItem("EditedImgStorage"));return e||[]},deleteEdited:function(e){var a=JSON.parse(localStorage.getItem("EditedImgStorage"));a&&(a.splice(e,1),localStorage.setItem("EditedImgStorage",JSON.stringify(a)),r(a))},clearEdited:function(){r([]),localStorage.removeItem("EditedImgStorage")}}},j=t(3);var I=function(e){var a=Object(n.useState)(!1),t=Object(m.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(null),o=Object(m.a)(i,2),s=o[0],u=(o[1],Object(j.a)(O)),p=(u.icoVal,u.setIco),d=u.getIcoAll,h=u.clearIco,v=(u.setIcoVal,Object(j.a)(x)),I=v.clearOrig,w=v.setOrig,k=Object(j.a)(S),y=k.clearEdited,C=k.setEdited,J=N(),q=(J.loading,J.request),A=(J.error,J.clearError,function(){c(!l)}),F=function(){var e=Object(f.a)(g.a.mark((function e(a){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,!(t=new FormData(a.target))){e.next=12;break}if(!(d().length+Object(E.a)(t).length>15)){e.next=6;break}throw new Error("Too much photos");case 6:return e.next=8,q("/api/editor/upload","POST","multipart/form-data",t);case 8:(n=e.sent)&&(p(n.ico),w(n.orig),C(n.orig,{})),e.next=13;break;case 12:throw new Error("Upload the photos");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0.message);case 18:return e.prev=18,A(),e.finish(18);case 21:return e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("li",{className:"menu-item-li"},r.a.createElement("div",{className:"menu-item",onClick:A},"File"),l&&r.a.createElement("div",{className:"popup-menu"},r.a.createElement(b,{name:"Import...",header:"Import images",onClick:A.bind(this)},r.a.createElement("div",{className:"content"},r.a.createElement("div",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque, a nostrum. Dolorem, repellat quidem ut, minima sint vel eveniet quibusdam voluptates delectus doloremque, explicabo tempore dicta adipisci fugit amet dignissimos?"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:F},r.a.createElement("input",{type:"file",accept:".jpeg, .jpg, .png, .gif",name:"files",multiple:!0,required:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Upload"})))),r.a.createElement("div",{className:"menu-item",onClick:function(){h(),I(),y()}},"Clear"),r.a.createElement("div",{className:"menu-item"},"item 3"),r.a.createElement("img",{src:s})))};var w=function(e){var a=Object(n.useState)(!1),t=Object(m.a)(a,2),l=t[0],c=t[1],i=Object(j.a)(O).icoChoosen,o=Object(j.a)(x),s=(o.clearOrig,o.setOrig,Object(j.a)(S).getEdited),u=N(),p=(u.loading,u.request),d=(u.error,u.clearError,function(){c(!l)}),h=function(){var e=Object(f.a)(g.a.mark((function e(a){var t,n,r,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,t=new FormData(a.target),console.log(Object(E.a)(t)),!t){e.next=17;break}if(n=i.indx,r=s(n)){e.next=9;break}throw new Error("Apply settings to create preset");case 9:return r=r.settings,t.append("preset",JSON.stringify(r)),e.next=13,p("/api/editor/preset","POST","multipart/form-data",t);case 13:(l=e.sent)&&console.log(l),e.next=18;break;case 17:throw new Error("Name field is empty");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0.message);case 23:return e.prev=23,d(),e.finish(23);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e,null,[[1,20,23,26]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("li",{className:"menu-item-li"},r.a.createElement("div",{className:"menu-item",onClick:d},"Edit"),l&&r.a.createElement("div",{className:"popup-menu"},r.a.createElement(b,{name:"Save preset",header:"Import images",onClick:d.bind(this)},r.a.createElement("div",{className:"content"},r.a.createElement("div",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque, a nostrum. Dolorem, repellat quidem ut, minima sint vel eveniet quibusdam voluptates delectus doloremque, explicabo tempore dicta adipisci fugit amet dignissimos?"),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:h},r.a.createElement("input",{type:"text",name:"name",value:"Preset name"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Save"})))),r.a.createElement("div",{className:"menu-item"},"item 3")))},k=t(32),y=t.n(k),C=(t(60),t(21)),J=[],q=function(e){var a=y.a.slide,t=Object(n.useState)([]),l=Object(m.a)(t,2),c=l[0],i=l[1],o=N(),s=(o.loading,o.request),u=(o.error,o.clearError,Object(j.a)(S)),p=u.updateEdited,d=u.getEdited,h=Object(j.a)(O).icoChoosen.indx,v=(Object(j.a)(x).getOrig,function(){var e=Object(f.a)(g.a.mark((function e(a,t){var n,r,l,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=11;break}return n=d(h),(r=n.filters)?(r.forEach((function(e){if(a===e)throw new Error("Filter repeating")})),r=r.push(a)):r=[a],(l=new FormData).append("file",JSON.stringify({filter:a,pic:n.pic})),e.next=9,s("/api/editor/filter","PUT","multipart/form-data",l);case 9:(c=e.sent)&&(p(c,h,n.settings,r),console.log(r));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(a,t){return e.apply(this,arguments)}}()),b=function(){var e=Object(f.a)(g.a.mark((function e(a,t){var n,r,l,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=13;break}if(n=d(h),r=n.filters){e.next=6;break}throw new Error("No filters for removing");case 6:r.splice(r.indexOf(a),1),"filter",l=new FormData,c={filter:a,pic:n.pic},0===r.length&&(console.log(l),console.log(Object(E.a)(l)),console.log(r),l.append("file",JSON.stringify(c)),l.append("file",JSON.stringify(c)),c={data:n.pic.img,name:n.pic.name},(i=console).log.apply(i,Object(E.a)(l)),console.log(l),"edit"),l.append("file",JSON.stringify(c));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(a,t){return e.apply(this,arguments)}}(),I=Object(n.useCallback)(Object(f.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s("/api/editor/filter","GET");case 3:a=e.sent,console.log(a),i(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))));Object(n.useEffect)((function(){I()}),[]);return r.a.createElement("div",{id:"outer-container"},r.a.createElement("div",{className:"slide"},r.a.createElement(a,{onClick:I,customBurgerIcon:r.a.createElement("img",{src:"/icons/triangle.svg"}),pageWrapId:"page-wrap",outerContainerId:"outer-container",right:!1,isOpen:!1},r.a.createElement("div",{className:"slide-item"},r.a.createElement("span",null,"Presets"),c.map((function(e,a){return r.a.createElement("a",{key:"0"},r.a.createElement("i",{className:"fa fa-fw fa-star-o"}),r.a.createElement("span",null,e),r.a.createElement("span",{onClick:b.bind(void 0,e)},"delete"),r.a.createElement("img",{onClick:v.bind(void 0,e),src:"./filters/".concat(e,".jpg")}))})),!J.length&&r.a.createElement("span",{className:"slide-msg"},"No Presets")),r.a.createElement("div",{className:"slide-item"},r.a.createElement("span",null,"Filters"),C.map((function(e,a){return r.a.createElement("a",{key:"0"},r.a.createElement("i",{className:"fa fa-fw fa-star-o"}),r.a.createElement("span",null,e),r.a.createElement("span",{onClick:b.bind(void 0,e)},"delete"),r.a.createElement("img",{onClick:v.bind(void 0,e),src:"./filters/".concat(e,".jpg")}))})),!C.length&&r.a.createElement("span",{className:"slide-msg"},"No Presets")))))};t(61);var A=function(){return r.a.createElement("div",{className:"edit-menu"},r.a.createElement("ul",null,r.a.createElement(I,{name:"File"}),r.a.createElement(w,{name:"Edit"})),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/account"},"Account"))))};var F=function(e){var a=e.indx,t=!0===e.choosen?"img-body choosen":"img-body",l=Object(n.useRef)(null),c=e.pic,i=Object(j.a)(O),o=i.setIcoChoosen,s=i.deleteIco,m=Object(j.a)(x).deleteOrig,u=Object(j.a)(S).deleteEdited;return r.a.createElement("div",{className:t,ref:l,onClick:function(){o({indx:a,name:c.name})}},r.a.createElement("a",{className:"close",onClick:function(){s(a),m(a),u(a)}},"\xd7"),r.a.createElement("img",{src:"data:".concat(c.mime,";base64,").concat(c.img)}))};var D=function(){var e=Object(j.a)(O),a=e.icoChoosen,t=e.icoVal,n=e.getIcoAll;return r.a.createElement("div",{className:"edit-package"},r.a.createElement("div",{className:"flow"},t&&n().map((function(e,t){var n=t===a.indx;return r.a.createElement(F,{key:"key_".concat(e.pic.name),choosen:n,pic:e.pic,indx:t})}))))};var T=function(e){var a=e.param,t=a.start,l=e.value,c=void 0==a.step||null==a.step?"1":a.step,i=Object(n.useState)(l!==t?l:t),o=Object(m.a)(i,2),s=o[0],u=o[1];return Object(n.useEffect)((function(){u(l||t)}),[e]),r.a.createElement("div",null,r.a.createElement("div",{onDoubleClick:function(){u(t)},className:"labels"},r.a.createElement("label",{htmlFor:"range".concat(a.name)},a.name),r.a.createElement("label",{htmlFor:"range".concat(a.name)},s)),r.a.createElement("input",{type:"range",name:a.name,onChange:function(e){u(e.target.value)}.bind(this),min:a.min,max:a.max,value:s||t,step:c,id:"range".concat(a.name)}))},B=t(22);var P=function(e){var a=N(),t=(a.loading,a.request),n=(a.error,a.clearError,Object(j.a)(S)),l=n.updateEdited,c=(n.getEdited,e.icoChoosen),i=function(){var a=Object(f.a)(g.a.mark((function a(n){var r,c,i,o,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(o in n.preventDefault(),a.prev=1,r=new FormData(n.target),c=Object.fromEntries(r),i=0,c)c.hasOwnProperty(o)&&(i+=Number(c[o]));if(i){a.next=9;break}throw l(e.pic.pic,e.indx,c),new Error("Need to change settings");case 9:if(!r){a.next=17;break}return r.append("file",JSON.stringify({data:e.pic.pic.img,name:e.pic.pic.name})),a.next=13,t("/api/editor/edit","PUT","multipart/form-data",r);case 13:(s=a.sent)&&l(s,e.indx,c),a.next=18;break;case 17:throw new Error("Troubles with photo editing");case 18:a.next=23;break;case 20:a.prev=20,a.t0=a.catch(1),console.log(a.t0.message);case 23:return a.abrupt("return",!1);case 24:case"end":return a.stop()}}),a,null,[[1,20]])})));return function(e){return a.apply(this,arguments)}}();return c?r.a.createElement("div",{className:"edit-settings"},r.a.createElement("form",{onSubmit:i},r.a.createElement("span",null,"Basic"),B.Basic.map((function(a,t){return r.a.createElement(T,{key:"Basic_".concat(a.name,"_").concat(t),value:0===Object.keys(e.settings).length?a.start:e.settings[a.name],param:a})})),r.a.createElement("span",null,"RGB"),B.RGB.map((function(a,t){return r.a.createElement(T,{key:"RGB_".concat(a.name,"_").concat(t),value:0===Object.keys(e.settings).length?a.start:e.settings[a.name],param:a})})),r.a.createElement("input",{type:"submit",value:"Upload"}))):r.a.createElement("div",{className:"edit-settings"})},U=t(34),R=t(23);function V(){}Object(n.createContext)({origVal:[],setOrig:V,getOrig:V,clearOrig:V});var G=function(e){var a=Object(n.useRef)(null),t="/logo512.png";if(null!=e.pic){var l=e.pic.pic;t="data:".concat(l.mime,";base64,").concat(l.img),a.current.className=l.size[0]>l.size[1]?"width":"long"}return r.a.createElement("div",{className:"edit-img"},r.a.createElement(R.b,null,(function(e){var n=e.zoomIn,l=e.zoomOut,c=e.resetTransform;Object(U.a)(e,["zoomIn","zoomOut","resetTransform"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tools"},r.a.createElement("button",{onClick:n},"+"),r.a.createElement("button",{onClick:l},"-"),r.a.createElement("button",{onClick:c},"x")),r.a.createElement(R.a,null,r.a.createElement("img",{className:"long",ref:a,src:t,alt:""})))})))};var z=function(){var e=Object(j.a)(O).icoChoosen,a=Object(j.a)(S).getEdited,t=Object(j.a)(x).getOrig,n=a(e.indx),l=t(e.indx),c=null===n?{}:n.settings;return r.a.createElement("div",{className:"edit-window"},r.a.createElement(G,{pic:n}),r.a.createElement(P,{settings:c,pic:l,indx:e.indx,icoChoosen:!!e.name}))};t(62);var L=function(){return r.a.createElement("div",{className:"edit-container"},r.a.createElement(A,null),r.a.createElement(q,null),r.a.createElement(z,null),r.a.createElement(D,null))},M=t(17);t(29);var H=function(){var e=Object(n.useContext)(s),a=N(),t=(a.loading,a.request),l=(a.error,a.clearError,function(){var a=Object(f.a)(g.a.mark((function a(n){var r,l;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,r=new FormData(n.target),n={},r.forEach((function(e,a){n[a]=e})),a.next=7,t("/api/auth/login","POST","application/json",Object(M.a)({},n));case 7:l=a.sent,e.login(l.token,l.userId),window.location.href("/account"),a.next=14;break;case 12:a.prev=12,a.t0=a.catch(1);case 14:return a.abrupt("return",!1);case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}());return r.a.createElement("div",{id:"page-wrapper",className:"auth-form"},r.a.createElement("header",{id:"header"},r.a.createElement("h1",{id:"logo"},r.a.createElement("a",{href:"/"},"Editor")),r.a.createElement("nav",{id:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/login",className:"button primary"},"Sign Up"))))),r.a.createElement("div",{className:"auth-div"},r.a.createElement("form",{onSubmit:l,className:"spotlight style1 bottom cta"},r.a.createElement("input",{type:"text",name:"email",placeholder:"E-mail",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"submit",value:"Login",className:"col-4 col-12-xsmall"})),r.a.createElement("a",{href:"/registration"},"Registration")))};var _=function(){var e=N(),a=(e.loading,e.request),t=(e.error,e.clearError,function(){var e=Object(f.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n=new FormData(t.target),t={},n.forEach((function(e,a){if(t[a]=e,!e)throw new Error("".concat(a," is empty"))})),t.password!==t.password2){e.next=12;break}return e.next=8,a("/api/auth/registration","POST","application/json",Object(M.a)({},t));case 8:e.sent,window.location.href="/login",e.next=13;break;case 12:alert("wrong pass");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("err "+e.t0.message);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(a){return e.apply(this,arguments)}}());return r.a.createElement("div",{id:"page-wrapper",className:"auth-form"},r.a.createElement("header",{id:"header"},r.a.createElement("h1",{id:"logo"},r.a.createElement("a",{href:"/"},"Editor")),r.a.createElement("nav",{id:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/login",className:"button primary"},"Sign Up"))))),r.a.createElement("div",{className:"auth-div"},r.a.createElement("form",{onSubmit:t,className:"spotlight style1 bottom cta"},r.a.createElement("input",{type:"text",name:"email",placeholder:"E-mail",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"password",name:"password2",placeholder:"Password repeat",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"text",name:"fName",placeholder:"First Name",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"text",name:"sName",placeholder:"Second Name",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"submit",value:"Registration",className:"col-4 col-12-xsmall"}))))};var W=function(){var e=function(){var e=Object(n.useState)(null),a=Object(m.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(!1),c=Object(m.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(null),u=Object(m.a)(s,2),p=u[0],d=u[1],g=Object(n.useCallback)((function(e,a){r(e),d(a),localStorage.setItem("DiplomAppUserToken",JSON.stringify({userId:a,token:e}))}),[]),E=Object(n.useCallback)((function(){r(null),d(null),window.location.href="/login",localStorage.removeItem("DiplomAppUserToken")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("DiplomAppUserToken"));e&&e.token&&g(e.token,e.userId),o(!0)}),[g]),{login:g,logout:E,token:t,userId:p,ready:i}}(),a=e.token,t=e.login,l=e.logout,c=e.userId,o=e.ready,d=!!a,g=function(e){return console.log("Route "+e),e?r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(p,null)),r.a.createElement(u.b,{exact:!0,path:"/editor"},r.a.createElement(L,null)),r.a.createElement(u.b,{exact:!0,path:"/login"},r.a.createElement(H,null)),r.a.createElement(u.a,{to:"/"})):r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement(p,null)),r.a.createElement(u.b,{exact:!0,path:"/login"},r.a.createElement(H,null)),r.a.createElement(u.b,{exact:!0,path:"/registration"},r.a.createElement(_,null)),r.a.createElement(u.a,{to:"/login"}))}(d);return o?r.a.createElement(s.Provider,{value:{token:a,login:t,logout:l,userId:c,isAuthenticated:d}},r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},d,g))):0};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.476e68d8.chunk.js.map