(this["webpackJsonpclient-test"]=this["webpackJsonpclient-test"]||[]).push([[0],{108:function(e,t,a){},115:function(e,t,a){e.exports=a(305)},120:function(e,t,a){},122:function(e,t,a){},152:function(e,t){},154:function(e,t){},298:function(e,t,a){},299:function(e){e.exports=JSON.parse("{}")},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),o=(a(120),a(55));function s(){}var i=Object(n.createContext)({token:null,userId:null,login:s,logout:s,isAuthenticated:!1,isAdmin:!1}),m=a(3),u="DiplomAppUserToken",p=a(7);a(31);var d=function(){var e=Object(n.useContext)(i).isAuthenticated,t=function(e){return{backgroundPosition:"center -12px",backgroundImage:"url("+e+")"}};return r.a.createElement("div",{id:"page-wrapper"},r.a.createElement("header",{id:"header"},r.a.createElement("h1",{id:"logo"},r.a.createElement("a",{href:"/"},"Editor")),r.a.createElement("nav",{id:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,!e&&r.a.createElement("a",{href:"/login",className:"button primary"},"Sign Up"),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("a",{href:"/editor"},"Try Editor")),r.a.createElement("li",null,r.a.createElement("a",{href:"/account",className:"button primary"},"Account"))))))),r.a.createElement("section",{id:"banner"},r.a.createElement("div",{className:"content"},r.a.createElement("header",null,r.a.createElement("h2",null,"The best Editor"),r.a.createElement("p",null,"Edit image with help of Editor.",r.a.createElement("br",null),"Get best results."),r.a.createElement("ul",{className:"actions"},r.a.createElement("li",null,r.a.createElement("a",{href:"/editor",className:"button"},"Try Editor")))),r.a.createElement("span",{className:"image"},r.a.createElement("img",{src:"logo512.png",alt:""}))),r.a.createElement("a",{href:"#one",className:"goto-next scrolly"},"Next")),r.a.createElement("section",{id:"one",className:"spotlight style1 bottom",style:t("mainpic1.jpg")},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 col-12-medium"},r.a.createElement("header",null,r.a.createElement("h2",null,"Free online photo editor"),r.a.createElement("p",null,"Just use this app to get edit photo"))),r.a.createElement("div",{className:"col-4 col-12-medium"},r.a.createElement("p",null,"Editor couldn\u2019t be easier to use. No complicated tools or confusing UI \u2013 just simple, straightforward tools that transform your photo. Simply drag your photo into the editor to get started.")),r.a.createElement("div",{className:"col-4 col-12-medium"},r.a.createElement("p",null,"Enhance your photo in one click with our range of filters. Our filters are customizable, so you can change the brightness, contrast and saturation to get the look you want. And forget about bad lighting and other common problems \u2014 Editor helps you fix your photo, fast."))))),r.a.createElement("a",{href:"#two",className:"goto-next scrolly"},"Next")),r.a.createElement("section",{id:"two",className:"spotlight style2 right",style:t("pic04.jpg")},r.a.createElement("div",{className:"content"},r.a.createElement("header",null,r.a.createElement("h2",null,"Be be be"),r.a.createElement("p",null,"Editor is a small but powerful photo editing application. If you have some knowledge of photography, you can do a lot with Photo Editor. Now use Photo Editor to edit photos on your mobile phone just like you would on a PC.")),r.a.createElement("p",null,"I just wanna pass course project."),r.a.createElement("ul",{className:"actions"},r.a.createElement("li",null,r.a.createElement("a",{href:"#",className:"button"},"Learn Again")))),r.a.createElement("a",{href:"#four",className:"goto-next scrolly"},"Next")),r.a.createElement("section",{id:"four",className:"wrapper style1 special fade-up"},r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"major"},r.a.createElement("h2",null,"Features"),r.a.createElement("p",null,"Best experience in photo editing")),r.a.createElement("div",{className:"box alt"},r.a.createElement("div",{className:"row gtr-uniform"},r.a.createElement("section",{className:"col-4 col-6-medium col-12-xsmall"},r.a.createElement("span",{className:"icon solid alt major fa-chart-area"}),r.a.createElement("h3",null,"Greate quality"),r.a.createElement("p",null,"You can get your images with no loss.")),r.a.createElement("section",{className:"col-4 col-6-medium col-12-xsmall"},r.a.createElement("span",{className:"icon solid alt major fa-comment"}),r.a.createElement("h3",null,"Best technologies"),r.a.createElement("p",null,"Modern Node.js server and React.js app.")),r.a.createElement("section",{className:"col-4 col-6-medium col-12-xsmall"},r.a.createElement("span",{className:"icon solid alt major fa-flask"}),r.a.createElement("h3",null,"Best app"),r.a.createElement("p",null,"You cannot find best diplom than this app.")))),r.a.createElement("footer",{className:"major"},r.a.createElement("ul",{className:"actions special"},r.a.createElement("li",null,r.a.createElement("a",{href:"/editor",className:"button"},"Try Editor")))))),r.a.createElement("footer",{id:"footer"},r.a.createElement("ul",{className:"icons"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.linkedin.com/in/arseni-matsiukh-1895ab1b3/",className:"icon brands alt fa-linkedin-in"},r.a.createElement("span",{className:"label"},"LinkedIn"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://www.instagram.com/develer12/",className:"icon brands alt fa-instagram"},r.a.createElement("span",{className:"label"},"Instagram"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/Develer12",className:"icon brands alt fa-github"},r.a.createElement("span",{className:"label"},"GitHub"))),r.a.createElement("li",null,r.a.createElement("a",{href:"mailto:armagedondeveler@gmail.com",className:"icon solid alt fa-envelope"},r.a.createElement("span",{className:"label"},"Email")))),r.a.createElement("ul",{className:"copyright"},r.a.createElement("li",null,"\xa9 Untitled. All rights reserved."),r.a.createElement("li",null,"Design: ",r.a.createElement("a",{href:"https://github.com/Develer12"},"Develer12")))))},E=a(2),f=a.n(E),g=a(113),h=a(5),b=a(110),v=(a(122),{maxWidth:"600px",width:"90%"});var N=function(e){return r.a.createElement(b.a,{modal:!0,nested:!0,onClose:function(){e.onClick()},contentStyle:v,trigger:r.a.createElement("div",{className:"menu-item"},e.name)},(function(t){return r.a.createElement("div",{className:"modal"},r.a.createElement("a",{className:"close",onClick:t},"\xd7"),r.a.createElement("div",{className:"header"}," ",e.header," "),e.children)}))},O=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(null),c=Object(m.a)(l,2),o=c[0],s=c[1],u=Object(n.useContext)(i).token;return{loading:a,request:Object(n.useCallback)(function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n,l,c,o,i,m=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>1&&void 0!==m[1]?m[1]:"GET",n=m.length>2&&void 0!==m[2]?m[2]:"application/json",l=m.length>3&&void 0!==m[3]?m[3]:null,c=m.length>4&&void 0!==m[4]?m[4]:{},r(!0),e.prev=5,l&&"multipart/form-data"!==n&&(l=JSON.stringify(l),c["Content-Type"]=n),c.Authorization=u?"user ".concat(u):null,e.next=10,fetch(t,{method:a,body:l,headers:c});case 10:if(o=e.sent,i=o.json(),o.ok){e.next=14;break}throw new Error(i.message||"Something wrong");case 14:return r(!1),e.abrupt("return",i);case 18:throw e.prev=18,e.t0=e.catch(5),r(!1),s(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(n.useCallback)((function(){return s(null)}),[])}},x=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)({indx:null,name:null}),c=Object(m.a)(l,2),o=c[0],s=c[1],i=Object(n.useCallback)((function(e){var t=localStorage.getItem("IcoImgStorage");t=t?JSON.parse(t):[],e&&(e.forEach((function(e){t.push({pic:e})})),localStorage.setItem("IcoImgStorage",JSON.stringify(t))),r(t)}),[]);Object(n.useEffect)((function(){}),[a,i]);return{icoChoosen:o,setIcoChoosen:s,icoVal:a,setIcoVal:r,setIco:i,getIco:function(e){var t=JSON.parse(localStorage.getItem("IcoImgStorage"));return t?t=t[e]?t[e]:null:null},getIcoAll:function(){var e=JSON.parse(localStorage.getItem("IcoImgStorage"));return e||[]},deleteIco:function(e){var t=JSON.parse(localStorage.getItem("IcoImgStorage"));t&&(t.splice(e,1),localStorage.setItem("IcoImgStorage",JSON.stringify(t)),r(t))},clearIco:function(){r([]),localStorage.removeItem("IcoImgStorage")}}},j=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)({indx:null,name:null}),c=Object(m.a)(l,2),o=c[0],s=c[1],i=Object(n.useCallback)((function(e){var t=localStorage.getItem("OrigImgStorage");t=t?JSON.parse(t):[],e&&(e.forEach((function(e){t.push({pic:e})})),localStorage.setItem("OrigImgStorage",JSON.stringify(t))),r(t)}),[]);Object(n.useEffect)((function(){}),[a,i]);return{origChoosen:o,setOrigChoosen:s,origVal:a,setOrigVal:r,setOrig:i,getOrig:function(e){var t=JSON.parse(localStorage.getItem("OrigImgStorage"));return t?t=t[e]?t[e]:null:null},getOrigAll:function(){var e=JSON.parse(localStorage.getItem("OrigImgStorage"));return e||[]},deleteOrig:function(e){var t=JSON.parse(localStorage.getItem("OrigImgStorage"));t&&(t.splice(e,1),localStorage.setItem("OrigImgStorage",JSON.stringify(t)),r(t))},clearOrig:function(){r([]),localStorage.removeItem("OrigImgStorage")}}},w=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),c=Object(m.a)(l,2),o=c[0],s=c[1],i=Object(n.useState)({indx:null,name:null}),u=Object(m.a)(i,2),p=u[0],d=u[1],E=Object(n.useCallback)((function(e,t){var a=localStorage.getItem("EditedImgStorage");a=a?JSON.parse(a):[],e&&(e.forEach((function(e){a.push({pic:e,settings:t}),console.log(a)})),localStorage.setItem("EditedImgStorage",JSON.stringify(a)),r(a))}),[]),f=Object(n.useCallback)((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=JSON.parse(localStorage.getItem("EditedImgStorage"));e&&n[t]&&(a=a||n[t].settings,n[t]={pic:e,settings:a},localStorage.setItem("EditedImgStorage",JSON.stringify(n)),r(n))}),[]);Object(n.useEffect)((function(){}),[a,E]);var g=Object(n.useCallback)((function(e,t){t&&(o.push({name:e,settings:t}),s(o))}),[]);return{editedChoosen:p,setEditedChoosen:d,editedVal:a,setEditedVal:r,PresetList:o,setPresetList:s,setEdited:E,updateEdited:f,getEdited:function(e){var t=JSON.parse(localStorage.getItem("EditedImgStorage"));return t?t=t[e]?t[e]:null:null},getEditedAll:function(){var e=JSON.parse(localStorage.getItem("EditedImgStorage"));return e||[]},deleteEdited:function(e){var t=JSON.parse(localStorage.getItem("EditedImgStorage"));t&&(t.splice(e,1),localStorage.setItem("EditedImgStorage",JSON.stringify(t)),r(t))},clearEdited:function(){r([]),localStorage.removeItem("EditedImgStorage")},addPreset:g}},S=a(6);var y=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(null),s=Object(m.a)(o,2),i=s[0],u=(s[1],Object(S.a)(x)),p=(u.icoVal,u.setIco),d=u.getIcoAll,E=u.clearIco,b=u.icoChoosen,v=Object(S.a)(j),y=v.clearOrig,k=v.setOrig,I=Object(S.a)(w),C=I.clearEdited,D=I.setEdited,A=I.getEdited,J=O(),T=(J.loading,J.request),P=(J.error,J.clearError,function(){c(!l)}),F=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(a=new FormData(t.target))){e.next=12;break}if(!(d().length+Object(g.a)(a).length>15)){e.next=6;break}throw new Error("Too much photos");case 6:return e.next=8,T("/api/editor/upload","POST","multipart/form-data",a);case 8:(n=e.sent)&&(p(n.ico),k(n.orig),D(n.orig,{})),e.next=13;break;case 12:throw new Error("Upload the photos");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0.message);case 18:return e.prev=18,P(),e.finish(18);case 21:return e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("li",{className:"menu-item-li"},r.a.createElement("div",{className:"menu-item",onClick:P},"File"),l&&r.a.createElement("div",{className:"popup-menu"},r.a.createElement(N,{name:"Import...",header:"Import images",onClick:P.bind(this)},r.a.createElement("div",{className:"content"},r.a.createElement("div",null,"Upload image for input it to flow."),r.a.createElement("div",null,"Max count images on the flow is 15."),r.a.createElement("br",null),r.a.createElement("div",{className:"account-div"},r.a.createElement("form",{onSubmit:F,className:"spotlight style1 bottom cta"},r.a.createElement("input",{type:"file",accept:".jpeg, .jpg, .png, .gif",name:"files",className:"col-8 col-12-xsmall",multiple:!0,required:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",className:"col-4 col-12-xsmall"}))))),r.a.createElement("div",{className:"menu-item",onClick:function(){E(),y(),C()}},"Clear"),r.a.createElement("div",{className:"menu-item",onClick:function(){var e=b.indx,t=A(e);if(console.log(t),t){t=t.pic;var a="data:".concat(t.mime,";base64,").concat(t.img),n=document.createElement("a");document.body.appendChild(n),n.href=a,n.target="_self",n.download=t.name,n.click()}}},"Download"),r.a.createElement("img",{src:i})))};var k=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(S.a)(x).icoChoosen,s=Object(S.a)(j),i=(s.clearOrig,s.setOrig,Object(S.a)(w)),u=i.getEdited,p=i.addPreset,d=O(),E=(d.loading,d.request),g=(d.error,d.clearError,function(){c(!l)}),b=function(){var e=Object(h.a)(f.a.mark((function e(t){var a,n,r,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(a=new FormData(t.target)).get("name")){e.next=16;break}if(n=o.indx,r=u(n)){e.next=8;break}throw new Error("Apply settings to create preset");case 8:return r=r.settings,a.append("preset",JSON.stringify(r)),e.next=12,E("/api/editor/preset/set","POST","multipart/form-data",a);case 12:(l=e.sent)&&(console.log(l),p(l.name,l.settings)),e.next=17;break;case 16:throw new Error("Name field is empty");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0.message);case 22:return e.prev=22,g(),e.finish(22);case 25:return e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,null,[[1,19,22,25]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("li",{className:"menu-item-li"},r.a.createElement("div",{className:"menu-item",onClick:g},"Edit"),l&&r.a.createElement("div",{className:"popup-menu"},r.a.createElement(N,{name:"Save preset...",header:"Import images",onClick:g.bind(this)},r.a.createElement("div",{className:"content"},r.a.createElement("div",null,"Preset is saved for your account image settings."),r.a.createElement("div",null,"Input name of preset, if this name is exists your preset will be rewrited."),r.a.createElement("br",null),r.a.createElement("div",{className:"account-div"},r.a.createElement("form",{onSubmit:b,className:"spotlight style1 bottom cta"},r.a.createElement("input",{type:"text",name:"name",placeholder:"Preset name",className:"col-8 col-12-xsmall"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Save",className:"col-4 col-12-xsmall"})))))))},I=(a(123),a(111)),C=a.n(I),D=(a(298),a(299),function(e){var t=C.a.slide,a=O(),l=(a.loading,a.request),c=(a.error,a.clearError,Object(S.a)(w)),o=c.updateEdited,s=c.getEdited,i=c.PresetList,m=c.setPresetList,u=Object(S.a)(x).icoChoosen.indx,p=Object(S.a)(j).getOrig,d=Object(n.useCallback)(Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l("/api/editor/preset/all","GET");case 3:(t=e.sent)&&m(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))));Object(n.useEffect)((function(){d()}),[]);var E=function(){var e=Object(h.a)(f.a.mark((function e(t,a){var n,r,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=14;break}return n=p(u),e.next=5,l("/api/editor/preset/".concat(t),"GET");case 5:return r=e.sent,(c=new FormData).append("file",JSON.stringify({data:n.pic.img,name:n.pic.name})),c.append("settings",JSON.stringify(r)),e.next=11,l("/api/editor/edit","PUT","multipart/form-data",c);case 11:s=e.sent,console.log(s),s&&(r=JSON.parse(r),o(s,u,r));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return s(u),e.next=5,l("/api/editor/preset/".concat(t),"DELETE");case 5:e.sent&&d();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{id:"outer-container"},r.a.createElement("div",{className:"slide"},r.a.createElement(t,{onClick:d,customBurgerIcon:r.a.createElement("img",{src:"/icons/triangle.svg"}),pageWrapId:"page-wrap",outerContainerId:"outer-container",right:!1,isOpen:!1},r.a.createElement("div",{className:"slide-item"},r.a.createElement("span",null,"Presets"),!(!u&&0!==u)&&i.map((function(e,t){var a=e.name;return r.a.createElement("a",{key:"preset_".concat(e._id)},r.a.createElement("span",null,a),r.a.createElement("div",null,r.a.createElement("span",{onClick:E.bind(void 0,a)},"Use"),r.a.createElement("span",{onClick:g.bind(void 0,a)},"delete")))})),(i.length&&0!==u?!u:!!u)&&r.a.createElement("span",{className:"slide-msg"},"No Presets")))))});a(300);var A=function(){return r.a.createElement("div",{className:"edit-menu"},r.a.createElement("ul",null,r.a.createElement(y,{name:"File"}),r.a.createElement(k,{name:"Edit"})),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/account"},"Account"))))};var J=function(e){var t=e.indx,a=!0===e.choosen?"img-body choosen":"img-body",l=Object(n.useRef)(null),c=e.pic,o=Object(S.a)(x),s=o.setIcoChoosen,i=o.deleteIco,m=Object(S.a)(j).deleteOrig,u=Object(S.a)(w).deleteEdited;return r.a.createElement("div",{className:a,ref:l,onClick:function(){s({indx:t,name:c.name})}},r.a.createElement("a",{className:"close",onClick:function(){i(t),m(t),u(t)}},"\xd7"),r.a.createElement("img",{src:"data:".concat(c.mime,";base64,").concat(c.img)}))};var T=function(){var e=Object(S.a)(x),t=e.icoChoosen,a=e.icoVal,n=e.getIcoAll;return r.a.createElement("div",{className:"edit-package"},r.a.createElement("div",{className:"flow"},a&&n().map((function(e,a){var n=a===t.indx;return r.a.createElement(J,{key:"key_".concat(e.pic.name),choosen:n,pic:e.pic,indx:a})}))))};var P=function(e){var t=e.param,a=t.start,l=e.value,c=void 0==t.step||null==t.step?"1":t.step,o=Object(n.useState)(l!==a?l:a),s=Object(m.a)(o,2),i=s[0],u=s[1];return Object(n.useEffect)((function(){u(l||a)}),[e]),r.a.createElement("div",null,r.a.createElement("div",{onDoubleClick:function(){u(a)},className:"labels"},r.a.createElement("label",{htmlFor:"range".concat(t.name)},t.name),r.a.createElement("label",{htmlFor:"range".concat(t.name)},i)),r.a.createElement("input",{type:"range",name:t.name,onChange:function(e){u(e.target.value)}.bind(this),min:t.min,max:t.max,value:i||a,step:c,id:"range".concat(t.name)}))},F=a(56);var B=function(e){var t=O(),a=(t.loading,t.request),n=(t.error,t.clearError,Object(S.a)(w)),l=n.updateEdited,c=(n.getEdited,e.icoChoosen),o=function(){var t=Object(h.a)(f.a.mark((function t(n){var r,c,o,s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s in n.preventDefault(),t.prev=1,r=new FormData(n.target),c=Object.fromEntries(r),o=0,c)c.hasOwnProperty(s)&&(o+=Number(c[s]));if(o){t.next=9;break}throw l(e.pic.pic,e.indx,c),new Error("Need to change settings");case 9:if(!r){t.next=17;break}return r.append("file",JSON.stringify({data:e.pic.pic.img,name:e.pic.pic.name})),t.next=13,a("/api/editor/edit","PUT","multipart/form-data",r);case 13:(i=t.sent)&&l(i,e.indx,c),t.next=18;break;case 17:throw new Error("Troubles with photo editing");case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),console.log(t.t0.message);case 23:return t.abrupt("return",!1);case 24:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(e){return t.apply(this,arguments)}}();return c?r.a.createElement("div",{className:"edit-settings"},r.a.createElement("form",{onSubmit:o},r.a.createElement("span",null,"Basic"),F.Basic.map((function(t,a){return r.a.createElement(P,{key:"Basic_".concat(t.name,"_").concat(a),value:0===Object.keys(e.settings).length?t.start:e.settings[t.name],param:t})})),r.a.createElement("span",null,"RGB"),F.RGB.map((function(t,a){return r.a.createElement(P,{key:"RGB_".concat(t.name,"_").concat(a),value:0===Object.keys(e.settings).length?t.start:e.settings[t.name],param:t})})),r.a.createElement("input",{type:"submit",value:"Upload"}))):r.a.createElement("div",{className:"edit-settings"})},U=a(114),G=a(57);function R(){}Object(n.createContext)({origVal:[],setOrig:R,getOrig:R,clearOrig:R});var _=function(e){var t=Object(n.useRef)(null),a="/logo512.png";if(null!=e.pic){var l=e.pic.pic;a="data:".concat(l.mime,";base64,").concat(l.img),t.current.className=l.size[0]>l.size[1]?"width":"long"}return r.a.createElement("div",{className:"edit-img"},r.a.createElement(G.b,null,(function(e){var n=e.zoomIn,l=e.zoomOut,c=e.resetTransform;Object(U.a)(e,["zoomIn","zoomOut","resetTransform"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tools"},r.a.createElement("button",{onClick:n},"+"),r.a.createElement("button",{onClick:l},"-"),r.a.createElement("button",{onClick:c},"x")),r.a.createElement(G.a,null,r.a.createElement("img",{className:"long",ref:t,src:a,alt:""})))})))};var q=function(){var e=Object(S.a)(x).icoChoosen,t=Object(S.a)(w).getEdited,a=Object(S.a)(j).getOrig,n=t(e.indx),l=a(e.indx),c=null===n?{}:n.settings;return r.a.createElement("div",{className:"edit-window"},r.a.createElement(_,{pic:n}),r.a.createElement(B,{settings:c,pic:l,indx:e.indx,icoChoosen:!!e.name}))};a(301);var L=function(){return r.a.createElement("div",{className:"edit-container"},r.a.createElement(A,null),r.a.createElement(D,null),r.a.createElement(q,null),r.a.createElement(T,null))},V=a(21);var z=function(){var e=Object(n.useContext)(i),t=O(),a=(t.loading,t.request),l=(t.error,t.clearError,Object(n.useState)({})),c=Object(m.a)(l,2),o=c[0],s=c[1],u=Object(n.useState)([]),p=Object(m.a)(u,2),d=p[0],E=p[1],g=Object(n.useRef)(null),b=Object(n.useRef)(null),v=Object(n.useCallback)(Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("/api/account/info","GET");case 3:(t=e.sent).subDate=t.subDate.substr(0,10),s(t),b.current.value=t.fName,g.current.value=t.sName,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))),N=Object(n.useCallback)(Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("/api/admin/client/all","GET");case 3:t=e.sent,console.log(t),E(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))),x=function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n=new FormData(t.target),t={},n.forEach((function(e,a){t[a]=e})),t){e.next=7;break}throw new Error("Form is empty, set valid values");case 7:return r={_id:t._id,isAdmin:!!t.isAdmin,isSub:!!t.isSub},e.next=10,a("/api/admin/client/permission","PUT","application/json",r);case 10:e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.message);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n=new FormData(t.target),t={},n.forEach((function(e,a){t[a]=e})),t){e.next=7;break}throw new Error("Form is empty, set valid values");case 7:if(t.sName&&t.fName&&(t.fName!==o.fName||t.sName!==o.sName)){e.next=9;break}throw new Error("One of the fields is empty or have invalid value");case 9:return e.next=11,a("/api/account/info","PUT","application/json",Object(V.a)({},t));case 11:(r=e.sent)&&(s(r),b.current.value=r.fName,g.current.value=r.sName),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0.message);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var t=Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!window.confirm("Are you sure, that you wanna delete your account?")){t.next=6;break}return t.next=4,a("/api/account/info","DELETE");case 4:t.sent,e.logout();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){v(),N()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"major"},r.a.createElement("h2",null,"Welcome ",o.fName," ",o.sName),r.a.createElement("p",null,"This is your Administrator page")),r.a.createElement("div",{className:"row gtr-150"},r.a.createElement("div",{className:"col-8 col-12-medium"},r.a.createElement("section",{id:"content"},r.a.createElement("h3",null,"Accounts info"),r.a.createElement("p",null,"At this form you can change other account permission"),r.a.createElement("div",{className:"account-div"},d.map((function(e){return r.a.createElement("form",{key:"form_".concat(e._id),onSubmit:x,className:"spotlight style1 bottom cta"},r.a.createElement("input",{type:"text",name:"_id",value:e._id,placeholder:"ID",className:"col-8 col-12-xsmall",readOnly:!0}),r.a.createElement("div",{className:"form-space"},r.a.createElement("input",{type:"text",name:"fName",value:e.fName,placeholder:"First name",className:"col-8 col-12-xsmall",readOnly:!0}),r.a.createElement("input",{type:"text",name:"sName",value:e.sName,placeholder:"Second name",className:"col-8 col-12-xsmall",readOnly:!0})),r.a.createElement("div",{className:"form-space"},r.a.createElement("div",null,r.a.createElement("h3",null,"Is Admin"),r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",name:"isAdmin",defaultChecked:e.isAdmin}),r.a.createElement("span",{className:"slider round"}))),r.a.createElement("div",null,r.a.createElement("h3",null,"Is Subscriber"),r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",name:"isSub",defaultChecked:e.isSub}),r.a.createElement("span",{className:"slider round"})))),r.a.createElement("input",{type:"submit",value:"Change",className:"col-4 col-12-xsmall"}),r.a.createElement("hr",null))}))),r.a.createElement("hr",null)),r.a.createElement("section",{id:"content"},r.a.createElement("h3",null,"Your info"),r.a.createElement("div",{className:"account-div"},r.a.createElement("form",{onSubmit:j,className:"spotlight style1 bottom cta"},r.a.createElement("input",{type:"text",name:"fName",placeholder:"First name",ref:b,className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"text",name:"sName",placeholder:"Second name",ref:g,className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"submit",value:"Change",className:"col-4 col-12-xsmall"}))),r.a.createElement("hr",null))),r.a.createElement("div",{className:"col-4 col-12-medium"},r.a.createElement("section",{id:"sidebar"},r.a.createElement("section",null,r.a.createElement("a",{href:"#",className:"image fit"},r.a.createElement("img",{src:"images/pic07.jpg",alt:""})),r.a.createElement("h3",null,"Subscriber info"),r.a.createElement("ul",null,r.a.createElement("li",null,"E-mail: ",o.email),r.a.createElement("br",null),r.a.createElement("li",null,"Is Subscriber: ",(!!o.isSub).toString()),r.a.createElement("br",null),r.a.createElement("li",null,"Is Admin: ",(!!o.isAdmin).toString()),r.a.createElement("br",null),r.a.createElement("li",null,"Subscription date: ",o.subDate),r.a.createElement("br",null)),r.a.createElement("hr",null),r.a.createElement("section",null,r.a.createElement("h3",null,"Delete account"),r.a.createElement("p",null,'After click on "Delete" button you cannot undo this decision'),r.a.createElement("footer",null,r.a.createElement("ul",{className:"actions"},r.a.createElement("li",null,r.a.createElement("a",{onClick:w,className:"button"},"Delete"))))),r.a.createElement("hr",null))))))};var H=function(){var e=Object(n.useContext)(i),t=O(),a=(t.loading,t.request),l=(t.error,t.clearError,Object(n.useState)({})),c=Object(m.a)(l,2),o=c[0],s=c[1],u=Object(n.useRef)(null),p=Object(n.useRef)(null),d=Object(n.useCallback)(Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a("/api/account/info","GET");case 3:(t=e.sent).subDate=t.subDate.substr(0,10),s(t),p.current.value=t.fName,u.current.value=t.sName,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))),E=function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n=new FormData(t.target),t={},n.forEach((function(e,a){t[a]=e})),t){e.next=7;break}throw new Error("Form is empty, set valid values");case 7:if(t.sName&&t.fName&&(t.fName!==o.fName||t.sName!==o.sName)){e.next=9;break}throw new Error("One of the fields is empty or have invalid value");case 9:return e.next=11,a("/api/account/info","PUT","application/json",Object(V.a)({},t));case 11:(r=e.sent)&&(r.subDate=r.subDate.substr(0,10),s(r),p.current.value=r.fName,u.current.value=r.sName),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0.message);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var t=Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!window.confirm("Are you sure, that you wanna delete your account?")){t.next=6;break}return t.next=4,a("/api/account/info","DELETE");case 4:t.sent,e.logout();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){d()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"major"},r.a.createElement("h2",null,"Welcome ",o.fName," ",o.sName),r.a.createElement("p",null,"This is your account page")),r.a.createElement("div",{className:"row gtr-150"},r.a.createElement("div",{className:"col-8 col-12-medium"},r.a.createElement("section",{id:"content"},r.a.createElement("h3",null,"Account info"),r.a.createElement("p",null,"At this form you can change your account information"),r.a.createElement("div",{className:"account-div"},r.a.createElement("form",{onSubmit:E,className:"spotlight style1 bottom cta"},r.a.createElement("input",{type:"text",name:"fName",placeholder:"First name",ref:p,className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"text",name:"sName",placeholder:"Second name",ref:u,className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"submit",value:"Change",className:"col-4 col-12-xsmall"}))),r.a.createElement("hr",null))),r.a.createElement("div",{className:"col-4 col-12-medium"},r.a.createElement("section",{id:"sidebar"},r.a.createElement("section",null,r.a.createElement("a",{href:"#",className:"image fit"},r.a.createElement("img",{src:"images/pic07.jpg",alt:""})),r.a.createElement("h3",null,"Subscriber info"),r.a.createElement("ul",null,r.a.createElement("li",null,"E-mail: ",o.email),r.a.createElement("br",null),r.a.createElement("li",null,"Is Subscriber: ",(!!o.isSub).toString()),r.a.createElement("br",null),r.a.createElement("li",null,"Subscription date: ",o.subDate),r.a.createElement("br",null)),r.a.createElement("hr",null),r.a.createElement("section",null,r.a.createElement("h3",null,"Delete account"),r.a.createElement("p",null,'After click on "Delete" button you cannot undo this decision'),r.a.createElement("footer",null,r.a.createElement("ul",{className:"actions"},r.a.createElement("li",null,r.a.createElement("a",{onClick:g,className:"button"},"Delete"))))),r.a.createElement("hr",null))))))};a(302);var W=function(){var e=Object(n.useContext)(i),t=e.isAdmin;return r.a.createElement("div",{id:"page-wrapper",className:"account-form"},r.a.createElement("header",{id:"header"},r.a.createElement("h1",{id:"logo"},r.a.createElement("a",{href:"/"},"Editor")),r.a.createElement("nav",{id:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/editor"},"Try Editor")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.logout()}.bind(this),className:"button primary"},"Logout"))))),r.a.createElement("div",{id:"main",className:"wrapper style1"},t&&r.a.createElement(z,null),!t&&r.a.createElement(H,null)))};a(108);var M=function(){var e=Object(n.useContext)(i),t=O(),a=(t.loading,t.request),l=(t.error,t.clearError,function(){var t=Object(h.a)(f.a.mark((function t(n){var r,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,r=new FormData(n.target),n={},r.forEach((function(e,t){n[t]=e})),t.next=7,a("/api/auth/login","POST","application/json",Object(V.a)({},n));case 7:l=t.sent,e.login(l.token,l.userId,l.is.isAdmin),window.location.href="/account",t.next=14;break;case 12:t.prev=12,t.t0=t.catch(1);case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}());return r.a.createElement("div",{id:"page-wrapper",className:"auth-form"},r.a.createElement("header",{id:"header"},r.a.createElement("h1",{id:"logo"},r.a.createElement("a",{href:"/"},"Editor")),r.a.createElement("nav",{id:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/login",className:"button primary"},"Sign Up"))))),r.a.createElement("div",{className:"auth-div"},r.a.createElement("form",{onSubmit:l,className:"spotlight style1 bottom cta"},r.a.createElement("input",{type:"text",name:"email",placeholder:"E-mail",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"submit",value:"Login",className:"col-4 col-12-xsmall"})),r.a.createElement("a",{href:"/registration"},"Registration")))};var Y=function(){var e=O(),t=(e.loading,e.request),a=(e.error,e.clearError,function(){var e=Object(h.a)(f.a.mark((function e(a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,n=new FormData(a.target),a={},n.forEach((function(e,t){if(a[t]=e,!e)throw new Error("".concat(t," is empty"))})),a.password!==a.password2){e.next=12;break}return e.next=8,t("/api/auth/registration","POST","application/json",Object(V.a)({},a));case 8:e.sent,window.location.href="/login",e.next=13;break;case 12:alert("wrong pass");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log("err "+e.t0.message);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}());return r.a.createElement("div",{id:"page-wrapper",className:"auth-form"},r.a.createElement("header",{id:"header"},r.a.createElement("h1",{id:"logo"},r.a.createElement("a",{href:"/"},"Editor")),r.a.createElement("nav",{id:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/login",className:"button primary"},"Sign Up"))))),r.a.createElement("div",{className:"auth-div"},r.a.createElement("form",{onSubmit:a,className:"spotlight style1 bottom cta"},r.a.createElement("input",{type:"text",name:"email",placeholder:"E-mail",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"password",name:"password2",placeholder:"Password repeat",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"text",name:"fName",placeholder:"First Name",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"text",name:"sName",placeholder:"Second Name",className:"col-8 col-12-xsmall"}),r.a.createElement("input",{type:"submit",value:"Registration",className:"col-4 col-12-xsmall"}))))};var K=function(){var e=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),c=Object(m.a)(l,2),o=c[0],s=c[1],i=Object(n.useState)(null),p=Object(m.a)(i,2),d=p[0],E=p[1],f=Object(n.useState)(!1),g=Object(m.a)(f,2),h=g[0],b=g[1],v=Object(n.useCallback)((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r(e),E(t),b(a),localStorage.setItem(u,JSON.stringify({userId:t,token:e,isAdmin:a}))}),[]),N=Object(n.useCallback)((function(){r(null),E(null),b(!1),window.location.href="/login",localStorage.removeItem(u)}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem(u));e&&e.token&&v(e.token,e.userId,e.isAdmin),s(!0)}),[v]),{login:v,logout:N,token:a,userId:d,isAdmin:h,ready:o}}(),t=e.token,a=e.login,l=e.logout,c=e.userId,s=e.isAdmin,E=e.ready,f=!!t,g=function(e){return e?r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(d,null)),r.a.createElement(p.b,{exact:!0,path:"/editor"},r.a.createElement(L,null)),r.a.createElement(p.b,{exact:!0,path:"/account"},r.a.createElement(W,null)),r.a.createElement(p.b,{exact:!0,path:"/login"},r.a.createElement(M,null)),r.a.createElement(p.a,{to:"/"})):r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(d,null)),r.a.createElement(p.b,{exact:!0,path:"/login"},r.a.createElement(M,null)),r.a.createElement(p.b,{exact:!0,path:"/registration"},r.a.createElement(Y,null)),r.a.createElement(p.a,{to:"/login"}))}(f);return E?r.a.createElement(i.Provider,{value:{token:t,login:a,logout:l,userId:c,isAuthenticated:f,isAdmin:s}},r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},f,g))):0};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root"))},31:function(e,t,a){},56:function(e){e.exports=JSON.parse('{"Basic":[{"name":"Exposition","min":"-1","max":"1","step":"0.01","start":"0"},{"name":"\u0421ontrast","min":"-1","max":"1","step":"0.01","start":"0"},{"name":"Highlights","min":"0","max":"100","start":"0"},{"name":"Shadows","min":"0","max":"100","start":"0"},{"name":"Darken","min":"0","max":"100","start":"0"},{"name":"Desaturate","min":"0","max":"100","start":"0"},{"name":"Saturation","min":"-100","max":"100","start":"0"},{"name":"Hue","min":"-360","max":"360","start":"0"},{"name":"Tint","min":"-360","max":"360","start":"0"},{"name":"Shade","min":"-360","max":"360","start":"0"}],"RGB":[{"name":"Red","min":"-360","max":"360","start":"0"},{"name":"Green","min":"-360","max":"360","start":"0"},{"name":"Blue","min":"-360","max":"360","start":"0"}]}')}},[[115,1,2]]]);
//# sourceMappingURL=main.c302d954.chunk.js.map